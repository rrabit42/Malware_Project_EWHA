package com.google.android.gms.internal.ads;

import android.os.Handler;
import android.os.HandlerThread;
import android.os.Looper;
import com.google.android.gms.common.internal.Preconditions;

@zzadh
public final class zzamg {
  private Handler mHandler = null;
  
  private final Object mLock = new Object();
  
  private HandlerThread zzcts = null;
  
  private int zzctt = 0;
  
  public final Handler getHandler() { return this.mHandler; }
  
  public final Looper zzsa() {
    synchronized (this.mLock) {
      if (this.zzctt == 0) {
        if (this.zzcts == null) {
          zzakb.v("Starting the looper thread.");
          this.zzcts = new HandlerThread("LooperProvider");
          this.zzcts.start();
          this.mHandler = new Handler(this.zzcts.getLooper());
          zzakb.v("Looper thread started.");
        } else {
          zzakb.v("Resuming the looper thread");
          this.mLock.notifyAll();
        } 
      } else {
        Preconditions.checkNotNull(this.zzcts, "Invalid state: mHandlerThread should already been initialized.");
      } 
      this.zzctt++;
      return this.zzcts.getLooper();
    } 
  }
}

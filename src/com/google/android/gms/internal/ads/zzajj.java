package com.google.android.gms.internal.ads;

import android.os.Bundle;
import android.os.SystemClock;
import com.google.android.gms.ads.internal.zzbv;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.LinkedList;
import javax.annotation.concurrent.GuardedBy;

@zzadh
public final class zzajj {
  private final Object mLock = new Object();
  
  private final zzajv zzacn;
  
  @GuardedBy("mLock")
  private boolean zzcif = false;
  
  @GuardedBy("mLock")
  private final LinkedList<zzajk> zzcot;
  
  private final String zzcou;
  
  private final String zzcov;
  
  @GuardedBy("mLock")
  private long zzcow = -1L;
  
  @GuardedBy("mLock")
  private long zzcox = -1L;
  
  @GuardedBy("mLock")
  private long zzcoy = -1L;
  
  @GuardedBy("mLock")
  private long zzcoz = 0L;
  
  @GuardedBy("mLock")
  private long zzcpa = -1L;
  
  @GuardedBy("mLock")
  private long zzcpb = -1L;
  
  private zzajj(zzajv paramzzajv, String paramString1, String paramString2) {
    this.zzacn = paramzzajv;
    this.zzcou = paramString1;
    this.zzcov = paramString2;
    this.zzcot = new LinkedList();
  }
  
  public zzajj(String paramString1, String paramString2) { this(zzbv.zzep(), paramString1, paramString2); }
  
  public final Bundle toBundle() {
    synchronized (this.mLock) {
      Bundle bundle = new Bundle();
      bundle.putString("seq_num", this.zzcou);
      bundle.putString("slotid", this.zzcov);
      bundle.putBoolean("ismediation", this.zzcif);
      bundle.putLong("treq", this.zzcpa);
      bundle.putLong("tresponse", this.zzcpb);
      bundle.putLong("timp", this.zzcox);
      bundle.putLong("tload", this.zzcoy);
      bundle.putLong("pcc", this.zzcoz);
      bundle.putLong("tfetch", this.zzcow);
      ArrayList arrayList = new ArrayList();
      Iterator iterator = this.zzcot.iterator();
      while (iterator.hasNext())
        arrayList.add(((zzajk)iterator.next()).toBundle()); 
      bundle.putParcelableArrayList("tclick", arrayList);
      return bundle;
    } 
  }
  
  public final void zzh(long paramLong) {
    synchronized (this.mLock) {
      this.zzcpb = paramLong;
      if (this.zzcpb != -1L)
        this.zzacn.zza(this); 
      return;
    } 
  }
  
  public final void zzi(long paramLong) {
    synchronized (this.mLock) {
      if (this.zzcpb != -1L) {
        this.zzcow = paramLong;
        this.zzacn.zza(this);
      } 
      return;
    } 
  }
  
  public final void zzn(zzjj paramzzjj) {
    synchronized (this.mLock) {
      this.zzcpa = SystemClock.elapsedRealtime();
      this.zzacn.zzb(paramzzjj, this.zzcpa);
      return;
    } 
  }
  
  public final void zzpm() {
    synchronized (this.mLock) {
      if (this.zzcpb != -1L && this.zzcox == -1L) {
        this.zzcox = SystemClock.elapsedRealtime();
        this.zzacn.zza(this);
      } 
      this.zzacn.zzpm();
      return;
    } 
  }
  
  public final void zzpn() {
    synchronized (this.mLock) {
      if (this.zzcpb != -1L) {
        zzajk zzajk = new zzajk();
        zzajk.zzpr();
        this.zzcot.add(zzajk);
        this.zzcoz++;
        this.zzacn.zzpn();
        this.zzacn.zza(this);
      } 
      return;
    } 
  }
  
  public final void zzpo() {
    synchronized (this.mLock) {
      if (this.zzcpb != -1L && !this.zzcot.isEmpty()) {
        zzajk zzajk = (zzajk)this.zzcot.getLast();
        if (zzajk.zzpp() == -1L) {
          zzajk.zzpq();
          this.zzacn.zza(this);
        } 
      } 
      return;
    } 
  }
  
  public final void zzy(boolean paramBoolean) {
    synchronized (this.mLock) {
      if (this.zzcpb != -1L) {
        this.zzcoy = SystemClock.elapsedRealtime();
        if (!paramBoolean) {
          this.zzcox = this.zzcoy;
          this.zzacn.zza(this);
        } 
      } 
      return;
    } 
  }
  
  public final void zzz(boolean paramBoolean) {
    synchronized (this.mLock) {
      if (this.zzcpb != -1L) {
        this.zzcif = paramBoolean;
        this.zzacn.zza(this);
      } 
      return;
    } 
  }
}

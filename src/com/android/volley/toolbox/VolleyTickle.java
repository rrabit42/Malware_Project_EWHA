package com.android.volley.toolbox;

import android.content.Context;
import android.net.http.AndroidHttpClient;
import com.android.volley.NetworkResponse;
import com.android.volley.RequestTickle;
import com.android.volley.cache.DiskBasedCache;
import com.android.volley.misc.NetUtils;
import com.android.volley.misc.Utils;
import java.io.File;
import java.io.UnsupportedEncodingException;

public class VolleyTickle {
  private static final String DEFAULT_CACHE_DIR = "volley";
  
  public static RequestTickle newRequestTickle(Context paramContext) { return newRequestTickle(paramContext, null); }
  
  public static RequestTickle newRequestTickle(Context paramContext, HttpStack paramHttpStack) {
    File file = new File(paramContext.getCacheDir(), "volley");
    HttpClientStack httpClientStack = paramHttpStack;
    if (paramHttpStack == null)
      if (Utils.hasHoneycomb()) {
        HurlStack hurlStack = new HurlStack();
      } else {
        httpClientStack = new HttpClientStack(AndroidHttpClient.newInstance(NetUtils.getUserAgent(paramContext)));
      }  
    BasicNetwork basicNetwork = new BasicNetwork(httpClientStack);
    return new RequestTickle(new DiskBasedCache(file), basicNetwork);
  }
  
  public static String parseResponse(NetworkResponse paramNetworkResponse) {
    try {
      return new String(paramNetworkResponse.data, HttpHeaderParser.parseCharset(paramNetworkResponse.headers));
    } catch (UnsupportedEncodingException unsupportedEncodingException) {
      return new String(paramNetworkResponse.data);
    } 
  }
}

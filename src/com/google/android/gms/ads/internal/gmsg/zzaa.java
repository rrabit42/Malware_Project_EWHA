package com.google.android.gms.ads.internal.gmsg;

import com.google.android.gms.common.util.VisibleForTesting;
import com.google.android.gms.internal.ads.zzadh;
import com.google.android.gms.internal.ads.zzakb;
import com.google.android.gms.internal.ads.zzaoj;
import java.util.HashMap;
import java.util.Map;
import java.util.concurrent.Future;
import org.json.JSONException;
import org.json.JSONObject;

@zzadh
public final class zzaa extends Object implements zzv<Object> {
  @VisibleForTesting
  private final HashMap<String, zzaoj<JSONObject>> zzbmv = new HashMap();
  
  public final void zza(Object paramObject, Map<String, String> paramMap) {
    paramObject = (String)paramMap.get("request_id");
    str = (String)paramMap.get("fetched_ad");
    zzakb.zzck("Received ad from the cache.");
    zzaoj zzaoj = (zzaoj)this.zzbmv.get(paramObject);
    if (zzaoj == null) {
      zzakb.e("Could not find the ad request for the corresponding ad response.");
      return;
    } 
    try {
      zzaoj.set(new JSONObject(str));
      this.zzbmv.remove(paramObject);
      return;
    } catch (JSONException str) {
      zzakb.zzb("Failed constructing JSON object from value passed from javascript", str);
      zzaoj.set(null);
      this.zzbmv.remove(paramObject);
      return;
    } finally {}
    this.zzbmv.remove(paramObject);
    throw zzaoj;
  }
  
  public final Future<JSONObject> zzas(String paramString) {
    zzaoj zzaoj = new zzaoj();
    this.zzbmv.put(paramString, zzaoj);
    return zzaoj;
  }
  
  public final void zzat(String paramString) {
    zzaoj zzaoj = (zzaoj)this.zzbmv.get(paramString);
    if (zzaoj == null) {
      zzakb.e("Could not find the ad request for the corresponding ad response.");
      return;
    } 
    if (!zzaoj.isDone())
      zzaoj.cancel(true); 
    this.zzbmv.remove(paramString);
  }
}

package com.google.android.gms.internal.ads;

import java.math.BigInteger;
import java.security.GeneralSecurityException;
import java.security.KeyFactory;
import java.security.KeyPair;
import java.security.interfaces.ECPrivateKey;
import java.security.interfaces.ECPublicKey;
import java.security.spec.ECParameterSpec;
import java.security.spec.ECPoint;
import java.security.spec.ECPrivateKeySpec;

final class zzava extends Object implements zzaug<zzaue> {
  private final zzaue zzf(zzbah paramzzbah) throws GeneralSecurityException {
    try {
      zzaws zzaws = zzaws.zzx(paramzzbah);
      if (zzaws instanceof zzaws) {
        zzaws zzaws1 = (zzaws)zzaws;
        zzazq.zzj(zzaws1.getVersion(), 0);
        zzavh.zza(zzaws1.zzxz().zzxs());
        zzawq zzawq = zzaws1.zzxz().zzxs();
        zzaww zzaww = zzawq.zzxu();
        zzayv zzayv = zzavh.zza(zzaww.zzyh());
        byte[] arrayOfByte = zzaws1.zzwv().toByteArray();
        ECParameterSpec eCParameterSpec = zzayt.zza(zzayv);
        ECPrivateKeySpec eCPrivateKeySpec = new ECPrivateKeySpec(new BigInteger(1, arrayOfByte), eCParameterSpec);
        ECPrivateKey eCPrivateKey = (ECPrivateKey)((KeyFactory)zzayy.zzdof.zzek("EC")).generatePrivate(eCPrivateKeySpec);
        zzavj zzavj = new zzavj(zzawq.zzxv().zzxp());
        return (zzaue)new zzayo(eCPrivateKey, zzaww.zzyj().toByteArray(), zzavh.zza(zzaww.zzyi()), zzavh.zza(zzawq.zzxw()), zzavj);
      } 
      throw new GeneralSecurityException("expected EciesAeadHkdfPrivateKey proto");
    } catch (zzbbu paramzzbah) {
      throw new GeneralSecurityException("expected serialized EciesAeadHkdfPrivateKey proto", paramzzbah);
    } 
  }
  
  public final int getVersion() { return 0; }
  
  public final zzbcu zzb(zzbah paramzzbah) throws GeneralSecurityException {
    try {
      return zzb(zzawo.zzw(paramzzbah));
    } catch (zzbbu paramzzbah) {
      throw new GeneralSecurityException("invalid EciesAeadHkdf key format", paramzzbah);
    } 
  }
  
  public final zzbcu zzb(zzbcu paramzzbcu) throws GeneralSecurityException {
    if (paramzzbcu instanceof zzawo) {
      zzawo zzawo = (zzawo)paramzzbcu;
      zzavh.zza(zzawo.zzxs());
      KeyPair keyPair = zzayt.zza(zzayt.zza(zzavh.zza(zzawo.zzxs().zzxu().zzyh())));
      ECPublicKey eCPublicKey = (ECPublicKey)keyPair.getPublic();
      ECPrivateKey eCPrivateKey = (ECPrivateKey)keyPair.getPrivate();
      ECPoint eCPoint = eCPublicKey.getW();
      zzawu zzawu = (zzawu)zzawu.zzye().zzas(0).zzc(zzawo.zzxs()).zzac(zzbah.zzo(eCPoint.getAffineX().toByteArray())).zzad(zzbah.zzo(eCPoint.getAffineY().toByteArray())).zzadi();
      return (zzbbo)zzaws.zzya().zzar(0).zzb(zzawu).zzy(zzbah.zzo(eCPrivateKey.getS().toByteArray())).zzadi();
    } 
    throw new GeneralSecurityException("expected EciesAeadHkdfKeyFormat proto");
  }
  
  public final zzaxi zzc(zzbah paramzzbah) throws GeneralSecurityException {
    zzaws zzaws = (zzaws)zzb(paramzzbah);
    return (zzaxi)zzaxi.zzyz().zzeb("type.googleapis.com/google.crypto.tink.EciesAeadHkdfPrivateKey").zzai(zzaws.zzaav()).zzb(zzaxi.zzb.zzdky).zzadi();
  }
}

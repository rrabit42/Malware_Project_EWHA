package com.google.android.gms.internal.measurement;

import android.content.Context;
import android.content.SharedPreferences;
import android.support.annotation.GuardedBy;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

public final class zzsp implements zzsb {
  @GuardedBy("SharedPreferencesLoader.class")
  static final Map<String, zzsp> zzbrz = new HashMap();
  
  private final Object zzbrd = new Object();
  
  @GuardedBy("this")
  private final List<zzsa> zzbrf = new ArrayList();
  
  private final SharedPreferences zzbsa;
  
  private final SharedPreferences.OnSharedPreferenceChangeListener zzbsb = new zzsq(this);
  
  private zzsp(SharedPreferences paramSharedPreferences) {
    this.zzbsa = paramSharedPreferences;
    this.zzbsa.registerOnSharedPreferenceChangeListener(this.zzbsb);
  }
  
  static zzsp zzi(Context paramContext, String paramString) { // Byte code:
    //   0: invokestatic zztj : ()Z
    //   3: ifeq -> 23
    //   6: aload_1
    //   7: ldc 'direct_boot:'
    //   9: invokevirtual startsWith : (Ljava/lang/String;)Z
    //   12: ifne -> 23
    //   15: aload_0
    //   16: invokestatic isUserUnlocked : (Landroid/content/Context;)Z
    //   19: istore_2
    //   20: goto -> 25
    //   23: iconst_1
    //   24: istore_2
    //   25: iload_2
    //   26: ifne -> 31
    //   29: aconst_null
    //   30: areturn
    //   31: ldc com/google/android/gms/internal/measurement/zzsp
    //   33: monitorenter
    //   34: getstatic com/google/android/gms/internal/measurement/zzsp.zzbrz : Ljava/util/Map;
    //   37: aload_1
    //   38: invokeinterface get : (Ljava/lang/Object;)Ljava/lang/Object;
    //   43: checkcast com/google/android/gms/internal/measurement/zzsp
    //   46: astore #4
    //   48: aload #4
    //   50: astore_3
    //   51: aload #4
    //   53: ifnonnull -> 120
    //   56: aload_1
    //   57: ldc 'direct_boot:'
    //   59: invokevirtual startsWith : (Ljava/lang/String;)Z
    //   62: ifeq -> 93
    //   65: aload_0
    //   66: astore_3
    //   67: invokestatic zztj : ()Z
    //   70: ifeq -> 78
    //   73: aload_0
    //   74: invokevirtual createDeviceProtectedStorageContext : ()Landroid/content/Context;
    //   77: astore_3
    //   78: aload_3
    //   79: aload_1
    //   80: bipush #12
    //   82: invokevirtual substring : (I)Ljava/lang/String;
    //   85: iconst_0
    //   86: invokevirtual getSharedPreferences : (Ljava/lang/String;I)Landroid/content/SharedPreferences;
    //   89: astore_0
    //   90: goto -> 100
    //   93: aload_0
    //   94: aload_1
    //   95: iconst_0
    //   96: invokevirtual getSharedPreferences : (Ljava/lang/String;I)Landroid/content/SharedPreferences;
    //   99: astore_0
    //   100: new com/google/android/gms/internal/measurement/zzsp
    //   103: dup
    //   104: aload_0
    //   105: invokespecial <init> : (Landroid/content/SharedPreferences;)V
    //   108: astore_3
    //   109: getstatic com/google/android/gms/internal/measurement/zzsp.zzbrz : Ljava/util/Map;
    //   112: aload_1
    //   113: aload_3
    //   114: invokeinterface put : (Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    //   119: pop
    //   120: ldc com/google/android/gms/internal/measurement/zzsp
    //   122: monitorexit
    //   123: aload_3
    //   124: areturn
    //   125: astore_0
    //   126: ldc com/google/android/gms/internal/measurement/zzsp
    //   128: monitorexit
    //   129: aload_0
    //   130: athrow
    // Exception table:
    //   from	to	target	type
    //   34	48	125	finally
    //   56	65	125	finally
    //   67	78	125	finally
    //   78	90	125	finally
    //   93	100	125	finally
    //   100	120	125	finally
    //   120	123	125	finally
    //   126	129	125	finally }
  
  public final Object zzfn(String paramString) {
    Map map2 = this.zzbre;
    Map map1 = map2;
    if (map2 == null)
      synchronized (this.zzbrd) {
        map2 = this.zzbre;
        map1 = map2;
        if (map2 == null) {
          map1 = this.zzbsa.getAll();
          this.zzbre = map1;
        } 
      }  
    return (map1 != null) ? map1.get(paramString) : null;
  }
}

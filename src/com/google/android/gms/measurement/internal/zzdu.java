package com.google.android.gms.measurement.internal;

import android.annotation.TargetApi;
import android.app.Activity;
import android.app.Application;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.support.annotation.MainThread;
import android.text.TextUtils;

@TargetApi(14)
@MainThread
final class zzdu implements Application.ActivityLifecycleCallbacks {
  private zzdu(zzda paramzzda) {}
  
  public final void onActivityCreated(Activity paramActivity, Bundle paramBundle) {
    try {
      this.zzare.zzgt().zzjo().zzby("onActivityCreated");
      Intent intent = paramActivity.getIntent();
      if (intent != null) {
        Uri uri = intent.getData();
        if (uri != null) {
          boolean bool = uri.isHierarchical();
          if (bool) {
            boolean bool1;
            if (paramBundle == null) {
              String str1;
              Bundle bundle = this.zzare.zzgr().zza(uri);
              if (this.zzare.zzgr().zzc(intent)) {
                str1 = "gs";
              } else {
                str1 = "auto";
              } 
              if (bundle != null)
                this.zzare.logEvent(str1, "_cmp", bundle); 
            } 
            String str = uri.getQueryParameter("referrer");
            if (TextUtils.isEmpty(str))
              return; 
            if (str.contains("gclid") && (str.contains("utm_campaign") || str.contains("utm_source") || str.contains("utm_medium") || str.contains("utm_term") || str.contains("utm_content"))) {
              bool1 = true;
            } else {
              bool1 = false;
            } 
            if (!bool1) {
              this.zzare.zzgt().zzjn().zzby("Activity created with data 'referrer' param without gclid and at least one utm field");
              return;
            } 
            this.zzare.zzgt().zzjn().zzg("Activity created with referrer", str);
            if (!TextUtils.isEmpty(str))
              this.zzare.zzb("auto", "_ldl", str, true); 
          } 
        } 
      } 
    } catch (Exception exception) {
      this.zzare.zzgt().zzjg().zzg("Throwable caught in onActivityCreated", exception);
    } 
    this.zzare.zzgm().onActivityCreated(paramActivity, paramBundle);
  }
  
  public final void onActivityDestroyed(Activity paramActivity) { this.zzare.zzgm().onActivityDestroyed(paramActivity); }
  
  @MainThread
  public final void onActivityPaused(Activity paramActivity) {
    this.zzare.zzgm().onActivityPaused(paramActivity);
    zzfd zzfd = this.zzare.zzgo();
    long l = zzfd.zzbx().elapsedRealtime();
    zzfd.zzgs().zzc(new zzfi(zzfd, l));
  }
  
  @MainThread
  public final void onActivityResumed(Activity paramActivity) {
    this.zzare.zzgm().onActivityResumed(paramActivity);
    zzfd zzfd = this.zzare.zzgo();
    long l = zzfd.zzbx().elapsedRealtime();
    zzfd.zzgs().zzc(new zzfh(zzfd, l));
  }
  
  public final void onActivitySaveInstanceState(Activity paramActivity, Bundle paramBundle) { this.zzare.zzgm().onActivitySaveInstanceState(paramActivity, paramBundle); }
  
  public final void onActivityStarted(Activity paramActivity) {}
  
  public final void onActivityStopped(Activity paramActivity) {}
}

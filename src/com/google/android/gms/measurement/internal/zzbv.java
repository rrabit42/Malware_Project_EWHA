package com.google.android.gms.measurement.internal;

import android.os.Process;
import com.google.android.gms.common.internal.Preconditions;
import java.util.concurrent.BlockingQueue;

final class zzbv extends Thread {
  private final Object zzape;
  
  private final BlockingQueue<zzbu<?>> zzapf;
  
  public zzbv(zzbr paramzzbr, String paramString, BlockingQueue<zzbu<?>> paramBlockingQueue) {
    Preconditions.checkNotNull(paramString);
    Preconditions.checkNotNull(paramBlockingQueue);
    this.zzape = new Object();
    this.zzapf = paramBlockingQueue;
    setName(paramString);
  }
  
  private final void zza(InterruptedException paramInterruptedException) { this.zzapb.zzgt().zzjj().zzg(String.valueOf(getName()).concat(" was interrupted"), paramInterruptedException); }
  
  public final void run() {
    int i = 0;
    while (!i) {
      try {
        zzbr.zza(this.zzapb).acquire();
        i = 1;
      } catch (InterruptedException interruptedException) {
        zza(interruptedException);
      } 
    } 
    try {
      int j = Process.getThreadPriority(Process.myTid());
      while (true) {
        zzbu zzbu = (zzbu)this.zzapf.poll();
        if (zzbu != null) {
          if (zzbu.zzapd) {
            i = j;
          } else {
            i = 10;
          } 
          Process.setThreadPriority(i);
          zzbu.run();
          continue;
        } 
        synchronized (this.zzape) {
          if (this.zzapf.peek() == null) {
            boolean bool = zzbr.zzb(this.zzapb);
            if (!bool)
              try {
                this.zzape.wait(30000L);
              } catch (InterruptedException interruptedException) {
                zza(interruptedException);
              }  
          } 
          synchronized (zzbr.zzc(this.zzapb)) {
            if (this.zzapf.peek() == null)
              synchronized (zzbr.zzc(this.zzapb)) {
                zzbr.zza(this.zzapb).release();
                zzbr.zzc(this.zzapb).notifyAll();
                return;
              }  
          } 
        } 
      } 
    } finally {
      null = null;
    } 
  }
  
  public final void zzki() {
    synchronized (this.zzape) {
      this.zzape.notifyAll();
      return;
    } 
  }
}

package com.google.android.gms.internal.ads;

import android.content.Context;
import android.content.SharedPreferences;
import android.support.annotation.Nullable;
import com.google.android.gms.ads.internal.zzbv;
import org.json.JSONException;
import org.json.JSONObject;

@zzadh
public final class zzagf extends zzagh {
  private final Object mLock = new Object();
  
  private final Context zzaeo;
  
  @Nullable
  private SharedPreferences zzckn;
  
  private final zzwf<JSONObject, JSONObject> zzcko;
  
  public zzagf(Context paramContext, zzwf<JSONObject, JSONObject> paramzzwf) {
    this.zzaeo = paramContext.getApplicationContext();
    this.zzcko = paramzzwf;
  }
  
  public final zzanz<Void> zzop() {
    synchronized (this.mLock) {
      if (this.zzckn == null)
        this.zzckn = this.zzaeo.getSharedPreferences("google_ads_flags_meta", 0); 
      long l1 = this.zzckn.getLong("js_last_update", 0L);
      long l2 = zzbv.zzer().currentTimeMillis();
      null = zznk.zzbbl;
      if (l2 - l1 < ((Long)zzkb.zzik().zzd(null)).longValue())
        return zzano.zzi(null); 
      null = new JSONObject();
      try {
        null.put("js", (zzang.zzsl()).zzcw);
        zzna zzna = zznk.zzbbm;
        null.put("mf", zzkb.zzik().zzd(zzna));
        null.put("cl", "193400285");
        null.put("rapid_rc", "dev");
        null.put("rapid_rollup", "HEAD");
        null.put("dynamite_version", 279);
        return zzano.zza(this.zzcko.zzf(null), new zzagg(this), zzaoe.zzcvz);
      } catch (JSONException null) {
        zzakb.zzb("Unable to populate SDK Core Constants parameters.", null);
        return zzano.zzi(null);
      } 
    } 
  }
}

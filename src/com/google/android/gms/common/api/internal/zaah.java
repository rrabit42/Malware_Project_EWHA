package com.google.android.gms.common.api.internal;

import android.os.Bundle;
import android.os.DeadObjectException;
import com.google.android.gms.common.ConnectionResult;
import com.google.android.gms.common.api.Api;
import com.google.android.gms.common.api.Status;
import com.google.android.gms.common.internal.Preconditions;
import com.google.android.gms.common.internal.SimpleClientAdapter;
import java.util.Iterator;

public final class zaah implements zabd {
  private final zabe zafs;
  
  private boolean zaft = false;
  
  public zaah(zabe paramzabe) { this.zafs = paramzabe; }
  
  public final void begin() {}
  
  public final void connect() {
    if (this.zaft) {
      this.zaft = false;
      this.zafs.zaa(new zaaj(this, this));
    } 
  }
  
  public final boolean disconnect() {
    if (this.zaft)
      return false; 
    if (this.zafs.zaed.zaax()) {
      this.zaft = true;
      Iterator iterator = this.zafs.zaed.zahd.iterator();
      while (iterator.hasNext())
        ((zacm)iterator.next()).zabv(); 
      return false;
    } 
    this.zafs.zaf(null);
    return true;
  }
  
  public final <A extends Api.AnyClient, R extends com.google.android.gms.common.api.Result, T extends BaseImplementation.ApiMethodImpl<R, A>> T enqueue(T paramT) { return (T)execute(paramT); }
  
  public final <A extends Api.AnyClient, T extends BaseImplementation.ApiMethodImpl<? extends com.google.android.gms.common.api.Result, A>> T execute(T paramT) {
    try {
      this.zafs.zaed.zahe.zab(paramT);
      zaaw zaaw = this.zafs.zaed;
      Api.AnyClientKey anyClientKey = paramT.getClientKey();
      Api.Client client = (Api.Client)zaaw.zagy.get(anyClientKey);
      Preconditions.checkNotNull(client, "Appropriate Api was not requested.");
      if (!client.isConnected() && this.zafs.zaho.containsKey(paramT.getClientKey())) {
        paramT.setFailedResult(new Status(17));
        return paramT;
      } 
      Api.SimpleClient simpleClient = client;
      if (client instanceof SimpleClientAdapter)
        simpleClient = ((SimpleClientAdapter)client).getClient(); 
      paramT.run(simpleClient);
      return paramT;
    } catch (DeadObjectException deadObjectException) {
      this.zafs.zaa(new zaai(this, this));
      return paramT;
    } 
  }
  
  public final void onConnected(Bundle paramBundle) {}
  
  public final void onConnectionSuspended(int paramInt) {
    this.zafs.zaf(null);
    this.zafs.zahs.zab(paramInt, this.zaft);
  }
  
  public final void zaa(ConnectionResult paramConnectionResult, Api<?> paramApi, boolean paramBoolean) {}
  
  final void zaam() {
    if (this.zaft) {
      this.zaft = false;
      this.zafs.zaed.zahe.release();
      disconnect();
    } 
  }
}

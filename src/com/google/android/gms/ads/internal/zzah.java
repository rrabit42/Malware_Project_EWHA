package com.google.android.gms.ads.internal;

import android.content.Context;
import android.os.RemoteException;
import android.support.annotation.Nullable;
import android.support.v4.util.SimpleArrayMap;
import com.google.android.gms.ads.formats.PublisherAdViewOptions;
import com.google.android.gms.common.internal.Preconditions;
import com.google.android.gms.internal.ads.zzadh;
import com.google.android.gms.internal.ads.zzakb;
import com.google.android.gms.internal.ads.zzakk;
import com.google.android.gms.internal.ads.zzang;
import com.google.android.gms.internal.ads.zzjj;
import com.google.android.gms.internal.ads.zzjn;
import com.google.android.gms.internal.ads.zzkb;
import com.google.android.gms.internal.ads.zzkh;
import com.google.android.gms.internal.ads.zzkl;
import com.google.android.gms.internal.ads.zzlg;
import com.google.android.gms.internal.ads.zzna;
import com.google.android.gms.internal.ads.zznk;
import com.google.android.gms.internal.ads.zzpl;
import com.google.android.gms.internal.ads.zzqw;
import com.google.android.gms.internal.ads.zzqz;
import com.google.android.gms.internal.ads.zzrc;
import com.google.android.gms.internal.ads.zzrf;
import com.google.android.gms.internal.ads.zzri;
import com.google.android.gms.internal.ads.zzrl;
import com.google.android.gms.internal.ads.zzxn;
import java.lang.ref.WeakReference;
import java.util.ArrayList;
import java.util.List;
import javax.annotation.ParametersAreNonnullByDefault;

@zzadh
@ParametersAreNonnullByDefault
public final class zzah extends zzkl {
  private final Context mContext;
  
  private final Object mLock = new Object();
  
  private final zzw zzwc;
  
  private final zzxn zzwh;
  
  private final zzkh zzxs;
  
  @Nullable
  private final zzqw zzxt;
  
  @Nullable
  private final zzrl zzxu;
  
  @Nullable
  private final zzqz zzxv;
  
  @Nullable
  private final zzri zzxw;
  
  @Nullable
  private final zzjn zzxx;
  
  @Nullable
  private final PublisherAdViewOptions zzxy;
  
  private final SimpleArrayMap<String, zzrf> zzxz;
  
  private final SimpleArrayMap<String, zzrc> zzya;
  
  private final zzpl zzyb;
  
  private final List<String> zzyc;
  
  private final zzlg zzyd;
  
  private final String zzye;
  
  private final zzang zzyf;
  
  @Nullable
  private WeakReference<zzd> zzyg;
  
  zzah(Context paramContext, String paramString, zzxn paramzzxn, zzang paramzzang, zzkh paramzzkh, zzqw paramzzqw, zzrl paramzzrl, zzqz paramzzqz, SimpleArrayMap<String, zzrf> paramSimpleArrayMap1, SimpleArrayMap<String, zzrc> paramSimpleArrayMap2, zzpl paramzzpl, zzlg paramzzlg, zzw paramzzw, zzri paramzzri, zzjn paramzzjn, PublisherAdViewOptions paramPublisherAdViewOptions) {
    this.mContext = paramContext;
    this.zzye = paramString;
    this.zzwh = paramzzxn;
    this.zzyf = paramzzang;
    this.zzxs = paramzzkh;
    this.zzxv = paramzzqz;
    this.zzxt = paramzzqw;
    this.zzxu = paramzzrl;
    this.zzxz = paramSimpleArrayMap1;
    this.zzya = paramSimpleArrayMap2;
    this.zzyb = paramzzpl;
    this.zzyc = zzdg();
    this.zzyd = paramzzlg;
    this.zzwc = paramzzw;
    this.zzxw = paramzzri;
    this.zzxx = paramzzjn;
    this.zzxy = paramPublisherAdViewOptions;
    zznk.initialize(this.mContext);
  }
  
  private static void runOnUiThread(Runnable paramRunnable) { zzakk.zzcrm.post(paramRunnable); }
  
  private final void zzb(zzjj paramzzjj, int paramInt) {
    zzna zzna = zznk.zzbcg;
    if (!((Boolean)zzkb.zzik().zzd(zzna)).booleanValue() && this.zzxu != null) {
      zzi(0);
      return;
    } 
    Context context = this.mContext;
    zzbc zzbc = new zzbc(context, this.zzwc, zzjn.zzf(context), this.zzye, this.zzwh, this.zzyf);
    this.zzyg = new WeakReference(zzbc);
    zzqw zzqw1 = this.zzxt;
    Preconditions.checkMainThread("setOnAppInstallAdLoadedListener must be called on the main UI thread.");
    zzbc.zzvw.zzade = zzqw1;
    zzrl zzrl1 = this.zzxu;
    Preconditions.checkMainThread("setOnUnifiedNativeAdLoadedListener must be called on the main UI thread.");
    zzbc.zzvw.zzadg = zzrl1;
    zzqz zzqz1 = this.zzxv;
    Preconditions.checkMainThread("setOnContentAdLoadedListener must be called on the main UI thread.");
    zzbc.zzvw.zzadf = zzqz1;
    SimpleArrayMap simpleArrayMap = this.zzxz;
    Preconditions.checkMainThread("setOnCustomTemplateAdLoadedListeners must be called on the main UI thread.");
    zzbc.zzvw.zzadi = simpleArrayMap;
    zzbc.zza(this.zzxs);
    simpleArrayMap = this.zzya;
    Preconditions.checkMainThread("setOnCustomClickListener must be called on the main UI thread.");
    zzbc.zzvw.zzadh = simpleArrayMap;
    zzbc.zzd(zzdg());
    zzpl zzpl1 = this.zzyb;
    Preconditions.checkMainThread("setNativeAdOptions must be called on the main UI thread.");
    zzbc.zzvw.zzadj = zzpl1;
    zzbc.zza(this.zzyd);
    zzbc.zzj(paramInt);
    zzbc.zzb(paramzzjj);
  }
  
  private final boolean zzde() {
    zzna zzna = zznk.zzaym;
    return (((Boolean)zzkb.zzik().zzd(zzna)).booleanValue() && this.zzxw != null);
  }
  
  private final boolean zzdf() {
    if (this.zzxt == null && this.zzxv == null && this.zzxu == null) {
      SimpleArrayMap simpleArrayMap = this.zzxz;
      if (simpleArrayMap == null || simpleArrayMap.size() <= 0)
        return false; 
    } 
    return true;
  }
  
  private final List<String> zzdg() {
    ArrayList arrayList = new ArrayList();
    if (this.zzxv != null)
      arrayList.add("1"); 
    if (this.zzxt != null)
      arrayList.add("2"); 
    if (this.zzxu != null)
      arrayList.add("6"); 
    if (this.zzxz.size() > 0)
      arrayList.add("3"); 
    return arrayList;
  }
  
  private final void zze(zzjj paramzzjj) {
    zzna zzna = zznk.zzbcg;
    if (!((Boolean)zzkb.zzik().zzd(zzna)).booleanValue() && this.zzxu != null) {
      zzi(0);
      return;
    } 
    zzq zzq = new zzq(this.mContext, this.zzwc, this.zzxx, this.zzye, this.zzwh, this.zzyf);
    this.zzyg = new WeakReference(zzq);
    zzri zzri1 = this.zzxw;
    Preconditions.checkMainThread("setOnPublisherAdViewLoadedListener must be called on the main UI thread.");
    zzq.zzvw.zzadm = zzri1;
    PublisherAdViewOptions publisherAdViewOptions = this.zzxy;
    if (publisherAdViewOptions != null) {
      if (publisherAdViewOptions.zzbg() != null)
        zzq.zza(this.zzxy.zzbg()); 
      zzq.setManualImpressionsEnabled(this.zzxy.getManualImpressionsEnabled());
    } 
    zzqw zzqw1 = this.zzxt;
    Preconditions.checkMainThread("setOnAppInstallAdLoadedListener must be called on the main UI thread.");
    zzq.zzvw.zzade = zzqw1;
    zzrl zzrl1 = this.zzxu;
    Preconditions.checkMainThread("setOnUnifiedNativeAdLoadedListener must be called on the main UI thread.");
    zzq.zzvw.zzadg = zzrl1;
    zzqz zzqz1 = this.zzxv;
    Preconditions.checkMainThread("setOnContentAdLoadedListener must be called on the main UI thread.");
    zzq.zzvw.zzadf = zzqz1;
    SimpleArrayMap simpleArrayMap = this.zzxz;
    Preconditions.checkMainThread("setOnCustomTemplateAdLoadedListeners must be called on the main UI thread.");
    zzq.zzvw.zzadi = simpleArrayMap;
    simpleArrayMap = this.zzya;
    Preconditions.checkMainThread("setOnCustomClickListener must be called on the main UI thread.");
    zzq.zzvw.zzadh = simpleArrayMap;
    zzpl zzpl1 = this.zzyb;
    Preconditions.checkMainThread("setNativeAdOptions must be called on the main UI thread.");
    zzq.zzvw.zzadj = zzpl1;
    zzq.zzd(zzdg());
    zzq.zza(this.zzxs);
    zzq.zza(this.zzyd);
    ArrayList arrayList = new ArrayList();
    if (zzdf())
      arrayList.add(Integer.valueOf(1)); 
    if (this.zzxw != null)
      arrayList.add(Integer.valueOf(2)); 
    zzq.zze(arrayList);
    if (zzdf())
      paramzzjj.extras.putBoolean("ina", true); 
    if (this.zzxw != null)
      paramzzjj.extras.putBoolean("iba", true); 
    zzq.zzb(paramzzjj);
  }
  
  private final void zzi(int paramInt) {
    zzkh1 = this.zzxs;
    if (zzkh1 != null)
      try {
        zzkh1.onAdFailedToLoad(0);
        return;
      } catch (RemoteException zzkh1) {
        zzakb.zzc("Failed calling onAdFailedToLoad.", zzkh1);
      }  
  }
  
  @Nullable
  public final String getMediationAdapterClassName() {
    synchronized (this.mLock) {
      WeakReference weakReference = this.zzyg;
      String str = null;
      if (weakReference != null) {
        zzd zzd = (zzd)this.zzyg.get();
        if (zzd != null)
          str = zzd.getMediationAdapterClassName(); 
        return str;
      } 
      return null;
    } 
  }
  
  public final boolean isLoading() {
    synchronized (this.mLock) {
      WeakReference weakReference = this.zzyg;
      boolean bool = false;
      if (weakReference != null) {
        zzd zzd = (zzd)this.zzyg.get();
        if (zzd != null)
          bool = zzd.isLoading(); 
        return bool;
      } 
      return false;
    } 
  }
  
  public final void zza(zzjj paramzzjj, int paramInt) {
    if (paramInt > 0) {
      runOnUiThread(new zzaj(this, paramzzjj, paramInt));
      return;
    } 
    throw new IllegalArgumentException("Number of ads has to be more than 0");
  }
  
  @Nullable
  public final String zzck() {
    synchronized (this.mLock) {
      WeakReference weakReference = this.zzyg;
      String str = null;
      if (weakReference != null) {
        zzd zzd = (zzd)this.zzyg.get();
        if (zzd != null)
          str = zzd.zzck(); 
        return str;
      } 
      return null;
    } 
  }
  
  public final void zzd(zzjj paramzzjj) { runOnUiThread(new zzai(this, paramzzjj)); }
}

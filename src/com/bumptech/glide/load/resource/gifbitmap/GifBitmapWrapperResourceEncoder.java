package com.bumptech.glide.load.resource.gifbitmap;

import android.graphics.Bitmap;
import com.bumptech.glide.load.ResourceEncoder;
import com.bumptech.glide.load.engine.Resource;
import com.bumptech.glide.load.resource.gif.GifDrawable;
import java.io.OutputStream;

public class GifBitmapWrapperResourceEncoder extends Object implements ResourceEncoder<GifBitmapWrapper> {
  private final ResourceEncoder<Bitmap> bitmapEncoder;
  
  private final ResourceEncoder<GifDrawable> gifEncoder;
  
  private String id;
  
  public GifBitmapWrapperResourceEncoder(ResourceEncoder<Bitmap> paramResourceEncoder1, ResourceEncoder<GifDrawable> paramResourceEncoder2) {
    this.bitmapEncoder = paramResourceEncoder1;
    this.gifEncoder = paramResourceEncoder2;
  }
  
  public boolean encode(Resource<GifBitmapWrapper> paramResource, OutputStream paramOutputStream) {
    GifBitmapWrapper gifBitmapWrapper = (GifBitmapWrapper)paramResource.get();
    Resource resource = gifBitmapWrapper.getBitmapResource();
    return (resource != null) ? this.bitmapEncoder.encode(resource, paramOutputStream) : this.gifEncoder.encode(gifBitmapWrapper.getGifResource(), paramOutputStream);
  }
  
  public String getId() {
    if (this.id == null) {
      StringBuilder stringBuilder = new StringBuilder();
      stringBuilder.append(this.bitmapEncoder.getId());
      stringBuilder.append(this.gifEncoder.getId());
      this.id = stringBuilder.toString();
    } 
    return this.id;
  }
}

package com.google.firebase.auth.api.internal;

import android.support.annotation.GuardedBy;
import com.google.android.gms.common.api.GoogleApi;
import com.google.android.gms.common.api.Status;
import com.google.android.gms.common.logging.Logger;
import com.google.android.gms.tasks.Task;
import com.google.android.gms.tasks.Tasks;
import java.util.concurrent.Future;

public abstract class zzah<T extends zzaj> extends Object {
  private static Logger zzgg = new Logger("BiChannelGoogleApi", new String[] { "FirebaseAuth: " });
  
  @GuardedBy("this")
  private zzai<T> zzjp;
  
  private final GoogleApi<T> zzbq(String paramString) {
    zzai zzai1 = zzcy();
    if (zzai1.zzjs.zzbr(paramString)) {
      Logger logger1 = zzgg;
      String str1;
      StringBuilder stringBuilder1 = new StringBuilder((str1 = String.valueOf(zzai1.zzjr)).valueOf(str1).length() + 43);
      stringBuilder1.append("getGoogleApiForMethod() returned Fallback: ");
      stringBuilder1.append(str1);
      logger1.w(stringBuilder1.toString(), new Object[0]);
      return zzai1.zzjr;
    } 
    Logger logger = zzgg;
    String str;
    StringBuilder stringBuilder = new StringBuilder((str = String.valueOf(zzai1.zzjq)).valueOf(str).length() + 38);
    stringBuilder.append("getGoogleApiForMethod() returned Gms: ");
    stringBuilder.append(str);
    logger.w(stringBuilder.toString(), new Object[0]);
    return zzai1.zzjq;
  }
  
  private static <ResultT> Task<ResultT> zzcx() { return Tasks.forException(zzds.zzb(new Status(17499, "Unable to connect to GoogleApi instance - Google Play Services may be unavailable"))); }
  
  private final zzai<T> zzcy() { // Byte code:
    //   0: aload_0
    //   1: monitorenter
    //   2: aload_0
    //   3: getfield zzjp : Lcom/google/firebase/auth/api/internal/zzai;
    //   6: astore_1
    //   7: aload_1
    //   8: ifnonnull -> 75
    //   11: aload_0
    //   12: aload_0
    //   13: invokevirtual zzcw : ()Ljava/util/concurrent/Future;
    //   16: invokeinterface get : ()Ljava/lang/Object;
    //   21: checkcast com/google/firebase/auth/api/internal/zzai
    //   24: putfield zzjp : Lcom/google/firebase/auth/api/internal/zzai;
    //   27: goto -> 75
    //   30: astore_1
    //   31: aload_1
    //   32: invokevirtual getMessage : ()Ljava/lang/String;
    //   35: invokestatic valueOf : (Ljava/lang/Object;)Ljava/lang/String;
    //   38: astore_1
    //   39: aload_1
    //   40: invokevirtual length : ()I
    //   43: ifeq -> 56
    //   46: ldc 'There was an error while initializing the connection to Google Play Services: '
    //   48: aload_1
    //   49: invokevirtual concat : (Ljava/lang/String;)Ljava/lang/String;
    //   52: astore_1
    //   53: goto -> 66
    //   56: new java/lang/String
    //   59: dup
    //   60: ldc 'There was an error while initializing the connection to Google Play Services: '
    //   62: invokespecial <init> : (Ljava/lang/String;)V
    //   65: astore_1
    //   66: new java/lang/RuntimeException
    //   69: dup
    //   70: aload_1
    //   71: invokespecial <init> : (Ljava/lang/String;)V
    //   74: athrow
    //   75: aload_0
    //   76: getfield zzjp : Lcom/google/firebase/auth/api/internal/zzai;
    //   79: astore_1
    //   80: aload_0
    //   81: monitorexit
    //   82: aload_1
    //   83: areturn
    //   84: astore_1
    //   85: aload_0
    //   86: monitorexit
    //   87: aload_1
    //   88: athrow
    // Exception table:
    //   from	to	target	type
    //   2	7	84	finally
    //   11	27	30	java/lang/Exception
    //   11	27	84	finally
    //   31	53	84	finally
    //   56	66	84	finally
    //   66	75	84	finally
    //   75	82	84	finally
    //   85	87	84	finally }
  
  public final <ResultT, A extends com.google.android.gms.common.api.Api.AnyClient> Task<ResultT> zza(zzam<A, ResultT> paramzzam) {
    GoogleApi googleApi = zzbq(paramzzam.zzda());
    return (googleApi == null) ? zzcx() : googleApi.doRead(paramzzam.zzdb());
  }
  
  public final <ResultT, A extends com.google.android.gms.common.api.Api.AnyClient> Task<ResultT> zzb(zzam<A, ResultT> paramzzam) {
    GoogleApi googleApi = zzbq(paramzzam.zzda());
    return (googleApi == null) ? zzcx() : googleApi.doWrite(paramzzam.zzdb());
  }
  
  abstract Future<zzai<T>> zzcw();
}

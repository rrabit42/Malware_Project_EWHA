package com.google.android.gms.internal.ads;

import android.content.Context;
import android.content.res.TypedArray;
import android.text.TextUtils;
import android.util.AttributeSet;
import com.google.android.gms.ads.AdSize;
import com.google.android.gms.ads.R;

@zzadh
public final class zzjq {
  private final AdSize[] zzarh;
  
  private final String zzye;
  
  public zzjq(Context paramContext, AttributeSet paramAttributeSet) {
    TypedArray typedArray = paramContext.getResources().obtainAttributes(paramAttributeSet, R.styleable.AdsAttrs);
    String str1 = typedArray.getString(R.styleable.AdsAttrs_adSize);
    String str2 = typedArray.getString(R.styleable.AdsAttrs_adSizes);
    boolean bool1 = TextUtils.isEmpty(str1) ^ true;
    boolean bool2 = TextUtils.isEmpty(str2) ^ true;
    if (bool1 && !bool2) {
      this.zzarh = zzab(str1);
    } else if (!bool1 && bool2) {
      this.zzarh = zzab(str2);
    } else {
      if (bool1)
        throw new IllegalArgumentException("Either XML attribute \"adSize\" or XML attribute \"supportedAdSizes\" should be specified, but not both."); 
      throw new IllegalArgumentException("Required XML attribute \"adSize\" was missing.");
    } 
    this.zzye = typedArray.getString(R.styleable.AdsAttrs_adUnitId);
    if (!TextUtils.isEmpty(this.zzye))
      return; 
    throw new IllegalArgumentException("Required XML attribute \"adUnitId\" was missing.");
  }
  
  private static AdSize[] zzab(String paramString) {
    String[] arrayOfString = paramString.split("\\s*,\\s*");
    AdSize[] arrayOfAdSize = new AdSize[arrayOfString.length];
    for (byte b = 0;; b++) {
      if (b < arrayOfString.length) {
        String str = arrayOfString[b].trim();
        if (str.matches("^(\\d+|FULL_WIDTH)\\s*[xX]\\s*(\\d+|AUTO_HEIGHT)$")) {
          String[] arrayOfString1 = str.split("[xX]");
          arrayOfString1[0] = arrayOfString1[0].trim();
          arrayOfString1[1] = arrayOfString1[1].trim();
          try {
            int j;
            int i;
            if ("FULL_WIDTH".equals(arrayOfString1[0])) {
              i = -1;
            } else {
              i = Integer.parseInt(arrayOfString1[0]);
            } 
            if ("AUTO_HEIGHT".equals(arrayOfString1[1])) {
              j = -2;
            } else {
              j = Integer.parseInt(arrayOfString1[1]);
            } 
            arrayOfAdSize[b] = new AdSize(i, j);
            b++;
            continue;
          } catch (NumberFormatException paramString) {
            paramString = (paramString = null).valueOf(str);
            if (paramString.length() != 0) {
              paramString = "Could not parse XML attribute \"adSize\": ".concat(paramString);
            } else {
              paramString = new String("Could not parse XML attribute \"adSize\": ");
            } 
            throw new IllegalArgumentException(paramString);
          } 
        } 
        if ("BANNER".equals(str)) {
          arrayOfAdSize[b] = AdSize.BANNER;
        } else if ("LARGE_BANNER".equals(str)) {
          arrayOfAdSize[b] = AdSize.LARGE_BANNER;
        } else if ("FULL_BANNER".equals(str)) {
          arrayOfAdSize[b] = AdSize.FULL_BANNER;
        } else if ("LEADERBOARD".equals(str)) {
          arrayOfAdSize[b] = AdSize.LEADERBOARD;
        } else if ("MEDIUM_RECTANGLE".equals(str)) {
          arrayOfAdSize[b] = AdSize.MEDIUM_RECTANGLE;
        } else if ("SMART_BANNER".equals(str)) {
          arrayOfAdSize[b] = AdSize.SMART_BANNER;
        } else if ("WIDE_SKYSCRAPER".equals(str)) {
          arrayOfAdSize[b] = AdSize.WIDE_SKYSCRAPER;
        } else if ("FLUID".equals(str)) {
          arrayOfAdSize[b] = AdSize.FLUID;
        } else if ("ICON".equals(str)) {
          arrayOfAdSize[b] = AdSize.zzup;
        } else {
          paramString = String.valueOf(str);
          if (paramString.length() != 0) {
            paramString = "Could not parse XML attribute \"adSize\": ".concat(paramString);
          } else {
            paramString = new String("Could not parse XML attribute \"adSize\": ");
          } 
          throw new IllegalArgumentException(paramString);
        } 
      } else {
        if (arrayOfAdSize.length == 0) {
          paramString = String.valueOf(paramString);
          if (paramString.length() != 0) {
            paramString = "Could not parse XML attribute \"adSize\": ".concat(paramString);
          } else {
            paramString = new String("Could not parse XML attribute \"adSize\": ");
          } 
          throw new IllegalArgumentException(paramString);
        } 
        return arrayOfAdSize;
      } 
    } 
  }
  
  public final String getAdUnitId() { return this.zzye; }
  
  public final AdSize[] zzi(boolean paramBoolean) {
    if (paramBoolean || this.zzarh.length == 1)
      return this.zzarh; 
    throw new IllegalArgumentException("The adSizes XML attribute is only allowed on PublisherAdViews.");
  }
}

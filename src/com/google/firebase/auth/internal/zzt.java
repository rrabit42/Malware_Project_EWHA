package com.google.firebase.auth.internal;

import android.support.annotation.NonNull;
import com.google.android.gms.common.internal.Preconditions;
import com.google.android.gms.tasks.Task;
import com.google.firebase.FirebaseApp;
import com.google.firebase.auth.FirebaseAuth;

final class zzt implements Runnable {
  private final String zzqt;
  
  zzt(@NonNull zzs paramzzs, String paramString) { this.zzqt = Preconditions.checkNotEmpty(paramString); }
  
  public final void run() {
    boolean bool;
    firebaseApp = FirebaseApp.getInstance(this.zzqt);
    FirebaseAuth firebaseAuth = FirebaseAuth.getInstance(firebaseApp);
    zzy.initialize(firebaseApp.getApplicationContext());
    try {
      bool = ((Boolean)zzy.zzrn.get()).booleanValue();
    } catch (SecurityException firebaseApp) {
      bool = true;
    } 
    if (firebaseAuth.getCurrentUser() != null && bool) {
      Task task = firebaseAuth.getAccessToken(true);
      zzs.zzej().v("Token refreshing started", new Object[0]);
      task.addOnFailureListener(new zzu(this));
    } 
  }
}

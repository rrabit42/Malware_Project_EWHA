package com.android.volley.toolbox.multipart;

import com.android.volley.misc.MultipartUtils;
import java.io.IOException;
import java.io.OutputStream;
import java.io.UnsupportedEncodingException;

public final class StringPart extends BasePart {
  private final byte[] valueBytes;
  
  public StringPart(String paramString1, String paramString2) { this(paramString1, paramString2, null); }
  
  public StringPart(String paramString1, String paramString2, String paramString3) {
    if (paramString1 != null) {
      if (paramString2 != null) {
        String str = UrlEncodingHelper.encode(paramString1, "US-ASCII");
        paramString1 = paramString3;
        if (paramString3 == null)
          paramString1 = "ISO-8859-1"; 
        try {
          this.valueBytes = paramString2.getBytes(paramString1);
          this.headersProvider = new Object(this, str);
          return;
        } catch (UnsupportedEncodingException paramString1) {
          throw new RuntimeException(paramString1);
        } 
      } 
      throw new IllegalArgumentException("Value may not be null");
    } 
    throw new IllegalArgumentException("Name may not be null");
  }
  
  public long getContentLength(Boundary paramBoundary) { return (getHeader(paramBoundary).length + this.valueBytes.length + MultipartUtils.CRLF_BYTES.length); }
  
  public void writeTo(OutputStream paramOutputStream, Boundary paramBoundary) throws IOException {
    paramOutputStream.write(getHeader(paramBoundary));
    paramOutputStream.write(this.valueBytes);
    paramOutputStream.write(MultipartUtils.CRLF_BYTES);
  }
}

package com.google.android.gms.ads.internal;

import android.support.annotation.Nullable;
import com.google.android.gms.common.util.VisibleForTesting;
import com.google.android.gms.internal.ads.zzadh;
import com.google.android.gms.internal.ads.zzakb;
import com.google.android.gms.internal.ads.zzakk;
import com.google.android.gms.internal.ads.zzjj;
import java.lang.ref.WeakReference;
import javax.annotation.ParametersAreNonnullByDefault;

@zzadh
@ParametersAreNonnullByDefault
public final class zzbl {
  private final zzbn zzaan;
  
  @Nullable
  private zzjj zzaao;
  
  private boolean zzaap = false;
  
  private boolean zzaaq = false;
  
  private long zzaar = 0L;
  
  private final Runnable zzy;
  
  public zzbl(zza paramzza) { this(paramzza, new zzbn(zzakk.zzcrm)); }
  
  @VisibleForTesting
  private zzbl(zza paramzza, zzbn paramzzbn) {
    this.zzaan = paramzzbn;
    this.zzy = new zzbm(this, new WeakReference(paramzza));
  }
  
  public final void cancel() {
    this.zzaap = false;
    this.zzaan.removeCallbacks(this.zzy);
  }
  
  public final void pause() {
    this.zzaaq = true;
    if (this.zzaap)
      this.zzaan.removeCallbacks(this.zzy); 
  }
  
  public final void resume() {
    this.zzaaq = false;
    if (this.zzaap) {
      this.zzaap = false;
      zza(this.zzaao, this.zzaar);
    } 
  }
  
  public final void zza(zzjj paramzzjj, long paramLong) {
    if (this.zzaap) {
      zzakb.zzdk("An ad refresh is already scheduled.");
      return;
    } 
    this.zzaao = paramzzjj;
    this.zzaap = true;
    this.zzaar = paramLong;
    if (!this.zzaaq) {
      StringBuilder stringBuilder = new StringBuilder(65);
      stringBuilder.append("Scheduling ad refresh ");
      stringBuilder.append(paramLong);
      stringBuilder.append(" milliseconds from now.");
      zzakb.zzdj(stringBuilder.toString());
      this.zzaan.postDelayed(this.zzy, paramLong);
    } 
  }
  
  public final void zzdy() {
    this.zzaaq = false;
    this.zzaap = false;
    zzjj zzjj1 = this.zzaao;
    if (zzjj1 != null && zzjj1.extras != null)
      this.zzaao.extras.remove("_ad"); 
    zza(this.zzaao, 0L);
  }
  
  public final boolean zzdz() { return this.zzaap; }
  
  public final void zzf(zzjj paramzzjj) { this.zzaao = paramzzjj; }
  
  public final void zzg(zzjj paramzzjj) { zza(paramzzjj, 60000L); }
}

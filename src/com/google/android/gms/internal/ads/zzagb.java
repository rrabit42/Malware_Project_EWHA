package com.google.android.gms.internal.ads;

import android.annotation.TargetApi;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.content.pm.ActivityInfo;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.content.pm.ResolveInfo;
import android.content.res.Resources;
import android.media.AudioManager;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;
import android.net.Uri;
import android.os.Build;
import android.telephony.TelephonyManager;
import android.util.DisplayMetrics;
import com.google.android.gms.ads.internal.zzbv;
import com.google.android.gms.common.util.DeviceProperties;
import com.google.android.gms.common.util.PlatformVersion;
import com.google.android.gms.common.wrappers.Wrappers;
import java.util.Locale;

public final class zzagb {
  private float zzagu;
  
  private int zzcde;
  
  private int zzcdf;
  
  private int zzcjk;
  
  private boolean zzcjl;
  
  private boolean zzcjm;
  
  private String zzcjn;
  
  private String zzcjo;
  
  private boolean zzcjp;
  
  private boolean zzcjq;
  
  private boolean zzcjr;
  
  private boolean zzcjs;
  
  private String zzcjt;
  
  private String zzcju;
  
  private String zzcjv;
  
  private int zzcjw;
  
  private int zzcjx;
  
  private int zzcjy;
  
  private int zzcjz;
  
  private int zzcka;
  
  private int zzckb;
  
  private double zzckc;
  
  private boolean zzckd;
  
  private boolean zzcke;
  
  private int zzckf;
  
  private String zzckg;
  
  private String zzckh;
  
  private boolean zzcki;
  
  public zzagb(Context paramContext) {
    PackageManager packageManager = paramContext.getPackageManager();
    zzn(paramContext);
    zzo(paramContext);
    zzp(paramContext);
    Locale locale = Locale.getDefault();
    ResolveInfo resolveInfo = zza(packageManager, "geo:0,0?q=donuts");
    byte b2 = 1;
    if (resolveInfo != null) {
      b1 = 1;
    } else {
      b1 = 0;
    } 
    this.zzcjl = b1;
    if (zza(packageManager, "http://www.google.com") != null) {
      b1 = b2;
    } else {
      b1 = 0;
    } 
    this.zzcjm = b1;
    this.zzcjo = locale.getCountry();
    this.zzcjp = zzkb.zzif().zzsg();
    this.zzcjq = DeviceProperties.isSidewinder(paramContext);
    this.zzcjt = locale.getLanguage();
    this.zzcju = zzb(paramContext, packageManager);
    this.zzcjv = zza(paramContext, packageManager);
    Resources resources = paramContext.getResources();
    if (resources == null)
      return; 
    DisplayMetrics displayMetrics = resources.getDisplayMetrics();
    if (displayMetrics == null)
      return; 
    this.zzagu = displayMetrics.density;
    this.zzcde = displayMetrics.widthPixels;
    this.zzcdf = displayMetrics.heightPixels;
  }
  
  public zzagb(Context paramContext, zzaga paramzzaga) {
    paramContext.getPackageManager();
    zzn(paramContext);
    zzo(paramContext);
    zzp(paramContext);
    this.zzckg = Build.FINGERPRINT;
    this.zzckh = Build.DEVICE;
    if (PlatformVersion.isAtLeastIceCreamSandwichMR1() && zzoh.zzh(paramContext)) {
      bool = true;
    } else {
      bool = false;
    } 
    this.zzcki = bool;
    this.zzcjl = paramzzaga.zzcjl;
    this.zzcjm = paramzzaga.zzcjm;
    this.zzcjo = paramzzaga.zzcjo;
    this.zzcjp = paramzzaga.zzcjp;
    this.zzcjq = paramzzaga.zzcjq;
    this.zzcjt = paramzzaga.zzcjt;
    this.zzcju = paramzzaga.zzcju;
    this.zzcjv = paramzzaga.zzcjv;
    this.zzagu = paramzzaga.zzagu;
    this.zzcde = paramzzaga.zzcde;
    this.zzcdf = paramzzaga.zzcdf;
  }
  
  private static ResolveInfo zza(PackageManager paramPackageManager, String paramString) {
    try {
      return paramPackageManager.resolveActivity(new Intent("android.intent.action.VIEW", Uri.parse(paramString)), 65536);
    } catch (Throwable paramPackageManager) {
      zzbv.zzeo().zza(paramPackageManager, "DeviceInfo.getResolveInfo");
      return null;
    } 
  }
  
  private static String zza(Context paramContext, PackageManager paramPackageManager) {
    try {
      PackageInfo packageInfo = Wrappers.packageManager(paramContext).getPackageInfo("com.android.vending", 128);
      if (packageInfo != null) {
        int i = packageInfo.versionCode;
        StringBuilder stringBuilder = new StringBuilder((null = packageInfo.packageName).valueOf(null).length() + 12);
        stringBuilder.append(i);
        stringBuilder.append(".");
        stringBuilder.append(null);
        return stringBuilder.toString();
      } 
      return null;
    } catch (Exception paramContext) {
      return null;
    } 
  }
  
  private static String zzb(Context paramContext, PackageManager paramPackageManager) {
    ResolveInfo resolveInfo = zza(paramPackageManager, "market://details?id=com.google.android.gms.ads");
    if (resolveInfo == null)
      return null; 
    ActivityInfo activityInfo = resolveInfo.activityInfo;
    if (activityInfo == null)
      return null; 
    try {
      PackageInfo packageInfo = Wrappers.packageManager(paramContext).getPackageInfo(activityInfo.packageName, 0);
      if (packageInfo != null) {
        int i = packageInfo.versionCode;
        StringBuilder stringBuilder = new StringBuilder((null = activityInfo.packageName).valueOf(null).length() + 12);
        stringBuilder.append(i);
        stringBuilder.append(".");
        stringBuilder.append(null);
        return stringBuilder.toString();
      } 
      return null;
    } catch (android.content.pm.PackageManager.NameNotFoundException paramContext) {
      return null;
    } 
  }
  
  private final void zzn(Context paramContext) {
    audioManager = (AudioManager)paramContext.getSystemService("audio");
    if (audioManager != null)
      try {
        this.zzcjk = audioManager.getMode();
        this.zzcjr = audioManager.isMusicActive();
        this.zzcjs = audioManager.isSpeakerphoneOn();
        this.zzcjw = audioManager.getStreamVolume(3);
        this.zzcka = audioManager.getRingerMode();
        this.zzckb = audioManager.getStreamVolume(2);
        return;
      } catch (Throwable audioManager) {
        zzbv.zzeo().zza(audioManager, "DeviceInfo.gatherAudioInfo");
      }  
    this.zzcjk = -2;
    this.zzcjr = false;
    this.zzcjs = false;
    this.zzcjw = 0;
    this.zzcka = 0;
    this.zzckb = 0;
  }
  
  @TargetApi(16)
  private final void zzo(Context paramContext) {
    TelephonyManager telephonyManager = (TelephonyManager)paramContext.getSystemService("phone");
    ConnectivityManager connectivityManager = (ConnectivityManager)paramContext.getSystemService("connectivity");
    this.zzcjn = telephonyManager.getNetworkOperator();
    this.zzcjy = telephonyManager.getNetworkType();
    this.zzcjz = telephonyManager.getPhoneType();
    this.zzcjx = -2;
    this.zzcke = false;
    this.zzckf = -1;
    if (zzbv.zzek().zzl(paramContext, "android.permission.ACCESS_NETWORK_STATE")) {
      NetworkInfo networkInfo = connectivityManager.getActiveNetworkInfo();
      if (networkInfo != null) {
        this.zzcjx = networkInfo.getType();
        this.zzckf = networkInfo.getDetailedState().ordinal();
      } else {
        this.zzcjx = -1;
      } 
      if (Build.VERSION.SDK_INT >= 16)
        this.zzcke = connectivityManager.isActiveNetworkMetered(); 
    } 
  }
  
  private final void zzp(Context paramContext) {
    Intent intent = paramContext.registerReceiver(null, new IntentFilter("android.intent.action.BATTERY_CHANGED"));
    boolean bool = false;
    if (intent != null) {
      int i = intent.getIntExtra("status", -1);
      int j = intent.getIntExtra("level", -1);
      int k = intent.getIntExtra("scale", -1);
      this.zzckc = (j / k);
      if (i == 2 || i == 5)
        bool = true; 
      this.zzckd = bool;
      return;
    } 
    this.zzckc = -1.0D;
    this.zzckd = false;
  }
  
  public final zzaga zzoo() { return new zzaga(this.zzcjk, this.zzcjl, this.zzcjm, this.zzcjn, this.zzcjo, this.zzcjp, this.zzcjq, this.zzcjr, this.zzcjs, this.zzcjt, this.zzcju, this.zzcjv, this.zzcjw, this.zzcjx, this.zzcjy, this.zzcjz, this.zzcka, this.zzckb, this.zzagu, this.zzcde, this.zzcdf, this.zzckc, this.zzckd, this.zzcke, this.zzckf, this.zzckg, this.zzcki, this.zzckh); }
}

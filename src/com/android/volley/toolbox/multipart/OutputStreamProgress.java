package com.android.volley.toolbox.multipart;

import com.android.volley.Response;
import java.io.IOException;
import java.io.OutputStream;

public class OutputStreamProgress extends OutputStream {
  private long bytesWritten = 0L;
  
  private final OutputStream outstream;
  
  private final Response.ProgressListener progressListener;
  
  private long totalSize = 0L;
  
  public OutputStreamProgress(OutputStream paramOutputStream, Response.ProgressListener paramProgressListener) {
    this.outstream = paramOutputStream;
    this.progressListener = paramProgressListener;
  }
  
  public void close() throws IOException { this.outstream.close(); }
  
  public void flush() throws IOException { this.outstream.flush(); }
  
  public void write(int paramInt) throws IOException {
    this.outstream.write(paramInt);
    Response.ProgressListener progressListener1 = this.progressListener;
    if (progressListener1 != null) {
      this.bytesWritten++;
      progressListener1.onProgress(this.bytesWritten, this.totalSize);
    } 
  }
  
  public void write(byte[] paramArrayOfByte) throws IOException {
    this.outstream.write(paramArrayOfByte);
    Response.ProgressListener progressListener1 = this.progressListener;
    if (progressListener1 != null) {
      this.bytesWritten += paramArrayOfByte.length;
      progressListener1.onProgress(this.bytesWritten, this.totalSize);
    } 
  }
  
  public void write(byte[] paramArrayOfByte, int paramInt1, int paramInt2) throws IOException {
    this.outstream.write(paramArrayOfByte, paramInt1, paramInt2);
    Response.ProgressListener progressListener1 = this.progressListener;
    if (progressListener1 != null) {
      this.bytesWritten += paramInt2;
      progressListener1.onProgress(this.bytesWritten, this.totalSize);
    } 
  }
}

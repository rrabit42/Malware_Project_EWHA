package com.google.android.gms.ads.internal.gmsg;

import android.text.TextUtils;
import com.google.android.gms.internal.ads.zzadh;
import com.google.android.gms.internal.ads.zzakb;
import java.util.HashMap;
import java.util.Map;
import javax.annotation.ParametersAreNonnullByDefault;
import javax.annotation.concurrent.GuardedBy;
import org.json.JSONException;
import org.json.JSONObject;

@zzadh
@ParametersAreNonnullByDefault
public final class zzaf extends Object implements zzv<Object> {
  private final Object mLock = new Object();
  
  @GuardedBy("mLock")
  private final Map<String, zzag> zzbnf = new HashMap();
  
  public final void zza(Object paramObject, Map<String, String> paramMap) {
    String str2 = (String)paramMap.get("id");
    String str3 = (String)paramMap.get("fail");
    paramObject = (String)paramMap.get("fail_reason");
    String str1 = (String)paramMap.get("fail_stack");
    String str4 = (String)paramMap.get("result");
    Object object = paramObject;
    if (TextUtils.isEmpty(str1))
      object = "Unknown Fail Reason."; 
    if (TextUtils.isEmpty(str1)) {
      paramObject = "";
    } else {
      paramObject = String.valueOf(str1);
      if (paramObject.length() != 0) {
        paramObject = "\n".concat(paramObject);
      } else {
        paramObject = new String("\n");
      } 
    } 
    synchronized (this.mLock) {
      zzag zzag = (zzag)this.zzbnf.remove(str2);
      if (zzag == null) {
        paramObject = String.valueOf(str2);
        if (paramObject.length() != 0) {
          paramObject = "Received result for unexpected method invocation: ".concat(paramObject);
        } else {
          paramObject = new String("Received result for unexpected method invocation: ");
        } 
        zzakb.zzdk(paramObject);
        return;
      } 
      if (!TextUtils.isEmpty(str3)) {
        object = String.valueOf(object);
        paramObject = String.valueOf(paramObject);
        if (paramObject.length() != 0) {
          paramObject = object.concat(paramObject);
        } else {
          paramObject = new String(object);
        } 
        zzag.zzau(paramObject);
        return;
      } 
      if (str4 == null) {
        zzag.zzd(null);
        return;
      } 
      try {
        object = new JSONObject(str4);
        if (zzakb.zzqp()) {
          paramObject = String.valueOf(object.toString(2));
          if (paramObject.length() != 0) {
            paramObject = "Result GMSG: ".concat(paramObject);
          } else {
            paramObject = new String("Result GMSG: ");
          } 
          zzakb.v(paramObject);
        } 
        zzag.zzd(object);
      } catch (JSONException paramObject) {
        zzag.zzau(paramObject.getMessage());
      } 
      return;
    } 
  }
  
  public final void zza(String paramString, zzag paramzzag) {
    synchronized (this.mLock) {
      this.zzbnf.put(paramString, paramzzag);
      return;
    } 
  }
}

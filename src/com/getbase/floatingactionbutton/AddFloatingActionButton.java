package com.getbase.floatingactionbutton;

import android.content.Context;
import android.content.res.TypedArray;
import android.graphics.Paint;
import android.graphics.drawable.Drawable;
import android.graphics.drawable.ShapeDrawable;
import android.support.annotation.ColorRes;
import android.support.annotation.DrawableRes;
import android.util.AttributeSet;

public class AddFloatingActionButton extends FloatingActionButton {
  int mPlusColor;
  
  public AddFloatingActionButton(Context paramContext) { this(paramContext, null); }
  
  public AddFloatingActionButton(Context paramContext, AttributeSet paramAttributeSet) { super(paramContext, paramAttributeSet); }
  
  public AddFloatingActionButton(Context paramContext, AttributeSet paramAttributeSet, int paramInt) { super(paramContext, paramAttributeSet, paramInt); }
  
  Drawable getIconDrawable() {
    float f1 = getDimension(R.dimen.fab_icon_size);
    float f2 = f1 / 2.0F;
    float f3 = getDimension(R.dimen.fab_plus_icon_size);
    float f4 = getDimension(R.dimen.fab_plus_icon_stroke) / 2.0F;
    ShapeDrawable shapeDrawable = new ShapeDrawable(new Object(this, (f1 - f3) / 2.0F, f2, f4, f1));
    Paint paint = shapeDrawable.getPaint();
    paint.setColor(this.mPlusColor);
    paint.setStyle(Paint.Style.FILL);
    paint.setAntiAlias(true);
    return shapeDrawable;
  }
  
  public int getPlusColor() { return this.mPlusColor; }
  
  void init(Context paramContext, AttributeSet paramAttributeSet) {
    TypedArray typedArray = paramContext.obtainStyledAttributes(paramAttributeSet, R.styleable.AddFloatingActionButton, 0, 0);
    this.mPlusColor = typedArray.getColor(R.styleable.AddFloatingActionButton_fab_plusIconColor, getColor(17170443));
    typedArray.recycle();
    super.init(paramContext, paramAttributeSet);
  }
  
  public void setIcon(@DrawableRes int paramInt) { throw new UnsupportedOperationException("Use FloatingActionButton if you want to use custom icon"); }
  
  public void setPlusColor(int paramInt) {
    if (this.mPlusColor != paramInt) {
      this.mPlusColor = paramInt;
      updateBackground();
    } 
  }
  
  public void setPlusColorResId(@ColorRes int paramInt) { setPlusColor(getColor(paramInt)); }
}

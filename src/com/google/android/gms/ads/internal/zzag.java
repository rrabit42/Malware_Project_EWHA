package com.google.android.gms.ads.internal;

import android.app.Activity;
import android.content.Context;
import android.view.MotionEvent;
import android.view.View;
import com.google.android.gms.internal.ads.zzadh;
import com.google.android.gms.internal.ads.zzakb;
import com.google.android.gms.internal.ads.zzaki;
import com.google.android.gms.internal.ads.zzang;
import com.google.android.gms.internal.ads.zzce;
import com.google.android.gms.internal.ads.zzch;
import com.google.android.gms.internal.ads.zzkb;
import com.google.android.gms.internal.ads.zzna;
import com.google.android.gms.internal.ads.zznk;
import java.util.List;
import java.util.Vector;
import java.util.concurrent.CountDownLatch;
import java.util.concurrent.atomic.AtomicReference;

@zzadh
public final class zzag implements zzce, Runnable {
  private Context zzrt;
  
  private final List<Object[]> zzxo = new Vector();
  
  private final AtomicReference<zzce> zzxp = new AtomicReference();
  
  private zzang zzxq;
  
  private CountDownLatch zzxr = new CountDownLatch(1);
  
  private zzag(Context paramContext, zzang paramzzang) {
    this.zzrt = paramContext;
    this.zzxq = paramzzang;
    if (zzkb.zzif().zzsh()) {
      zzaki.zzb(this);
      return;
    } 
    run();
  }
  
  public zzag(zzbw paramzzbw) { this(paramzzbw.zzrt, paramzzbw.zzacr); }
  
  private static Context zzd(Context paramContext) {
    Context context = paramContext.getApplicationContext();
    return (context == null) ? paramContext : context;
  }
  
  private final boolean zzdc() {
    try {
      this.zzxr.await();
      return true;
    } catch (InterruptedException interruptedException) {
      zzakb.zzc("Interrupted during GADSignals creation.", interruptedException);
      return false;
    } 
  }
  
  private final void zzdd() {
    if (this.zzxo.isEmpty())
      return; 
    for (Object[] arrayOfObject : this.zzxo) {
      if (arrayOfObject.length == 1) {
        ((zzce)this.zzxp.get()).zza((MotionEvent)arrayOfObject[0]);
        continue;
      } 
      if (arrayOfObject.length == 3)
        ((zzce)this.zzxp.get()).zza(((Integer)arrayOfObject[0]).intValue(), ((Integer)arrayOfObject[1]).intValue(), ((Integer)arrayOfObject[2]).intValue()); 
    } 
    this.zzxo.clear();
  }
  
  public final void run() {
    byte b = 0;
    try {
      boolean bool = this.zzxq.zzcvg;
      zzna zzna = zznk.zzayl;
      int i = b;
      if (!((Boolean)zzkb.zzik().zzd(zzna)).booleanValue()) {
        i = b;
        if (bool)
          i = 1; 
      } 
      zzch zzch = zzch.zza(this.zzxq.zzcw, zzd(this.zzrt), i);
      this.zzxp.set(zzch);
      return;
    } finally {
      this.zzxr.countDown();
      this.zzrt = null;
      this.zzxq = null;
    } 
  }
  
  public final String zza(Context paramContext) {
    if (zzdc()) {
      zzce zzce1 = (zzce)this.zzxp.get();
      if (zzce1 != null) {
        zzdd();
        return zzce1.zza(zzd(paramContext));
      } 
    } 
    return "";
  }
  
  public final String zza(Context paramContext, String paramString, View paramView) { return zza(paramContext, paramString, paramView, null); }
  
  public final String zza(Context paramContext, String paramString, View paramView, Activity paramActivity) {
    if (zzdc()) {
      zzce zzce1 = (zzce)this.zzxp.get();
      if (zzce1 != null) {
        zzdd();
        return zzce1.zza(zzd(paramContext), paramString, paramView, paramActivity);
      } 
    } 
    return "";
  }
  
  public final void zza(int paramInt1, int paramInt2, int paramInt3) {
    zzce zzce1 = (zzce)this.zzxp.get();
    if (zzce1 != null) {
      zzdd();
      zzce1.zza(paramInt1, paramInt2, paramInt3);
      return;
    } 
    this.zzxo.add(new Object[] { Integer.valueOf(paramInt1), Integer.valueOf(paramInt2), Integer.valueOf(paramInt3) });
  }
  
  public final void zza(MotionEvent paramMotionEvent) {
    zzce zzce1 = (zzce)this.zzxp.get();
    if (zzce1 != null) {
      zzdd();
      zzce1.zza(paramMotionEvent);
      return;
    } 
    this.zzxo.add(new Object[] { paramMotionEvent });
  }
  
  public final void zzb(View paramView) {
    zzce zzce1 = (zzce)this.zzxp.get();
    if (zzce1 != null)
      zzce1.zzb(paramView); 
  }
}

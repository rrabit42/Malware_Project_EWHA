package com.gun0912.tedpermission;

import android.content.Context;
import android.os.Build;
import android.support.annotation.StringRes;
import com.gun0912.tedpermission.util.Dlog;
import com.gun0912.tedpermission.util.ObjectUtils;

public class TedPermission {
  private static TedInstance instance;
  
  public TedPermission(Context paramContext) { instance = new TedInstance(paramContext); }
  
  public void check() {
    if (instance.listener != null) {
      if (!ObjectUtils.isEmpty(instance.permissions)) {
        if (Build.VERSION.SDK_INT < 23) {
          Dlog.d("preMarshmallow");
          instance.listener.onPermissionGranted();
          return;
        } 
        Dlog.d("Marshmallow");
        instance.checkPermissions();
        return;
      } 
      throw new NullPointerException("You must setPermissions() on TedPermission");
    } 
    throw new NullPointerException("You must setPermissionListener() on TedPermission");
  }
  
  public TedPermission setDeniedCloseButtonText(@StringRes int paramInt) {
    if (paramInt > 0) {
      TedInstance tedInstance = instance;
      tedInstance.deniedCloseButtonText = tedInstance.context.getString(paramInt);
      return this;
    } 
    throw new IllegalArgumentException("Invalid value for DeniedCloseButtonText");
  }
  
  public TedPermission setDeniedCloseButtonText(String paramString) {
    instance.deniedCloseButtonText = paramString;
    return this;
  }
  
  public TedPermission setDeniedMessage(@StringRes int paramInt) {
    if (paramInt > 0) {
      TedInstance tedInstance = instance;
      tedInstance.denyMessage = tedInstance.context.getString(paramInt);
      return this;
    } 
    throw new IllegalArgumentException("Invalid value for DeniedMessage");
  }
  
  public TedPermission setDeniedMessage(String paramString) {
    instance.denyMessage = paramString;
    return this;
  }
  
  public TedPermission setGotoSettingButton(boolean paramBoolean) {
    instance.hasSettingBtn = paramBoolean;
    return this;
  }
  
  public TedPermission setGotoSettingButtonText(@StringRes int paramInt) {
    if (paramInt > 0) {
      TedInstance tedInstance = instance;
      tedInstance.settingButtonText = tedInstance.context.getString(paramInt);
      return this;
    } 
    throw new IllegalArgumentException("Invalid value for setGotoSettingButtonText");
  }
  
  public TedPermission setGotoSettingButtonText(String paramString) {
    instance.settingButtonText = paramString;
    return this;
  }
  
  public TedPermission setPermissionListener(PermissionListener paramPermissionListener) {
    instance.listener = paramPermissionListener;
    return this;
  }
  
  public TedPermission setPermissions(String... paramVarArgs) {
    instance.permissions = paramVarArgs;
    return this;
  }
  
  public TedPermission setRationaleConfirmText(@StringRes int paramInt) {
    if (paramInt > 0) {
      TedInstance tedInstance = instance;
      tedInstance.rationaleConfirmText = tedInstance.context.getString(paramInt);
      return this;
    } 
    throw new IllegalArgumentException("Invalid value for RationaleConfirmText");
  }
  
  public TedPermission setRationaleConfirmText(String paramString) {
    instance.rationaleConfirmText = paramString;
    return this;
  }
  
  public TedPermission setRationaleMessage(@StringRes int paramInt) {
    if (paramInt > 0) {
      TedInstance tedInstance = instance;
      tedInstance.rationaleMessage = tedInstance.context.getString(paramInt);
      return this;
    } 
    throw new IllegalArgumentException("Invalid value for RationaleMessage");
  }
  
  public TedPermission setRationaleMessage(String paramString) {
    instance.rationaleMessage = paramString;
    return this;
  }
}

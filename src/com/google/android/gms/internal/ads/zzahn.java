package com.google.android.gms.internal.ads;

import android.content.Context;
import android.os.Bundle;
import android.os.Handler;
import android.os.RemoteException;
import com.google.android.gms.ads.internal.gmsg.zzb;
import com.google.android.gms.ads.internal.zzbv;
import java.util.concurrent.Future;

@zzadh
public final class zzahn extends zzajx implements zzaht, zzahw, zzaia {
  private final Context mContext;
  
  private int mErrorCode = 3;
  
  private final Object mLock;
  
  public final String zzbth;
  
  private final zzaji zzbze;
  
  private final zzaib zzcll;
  
  private final zzahw zzclm;
  
  private final String zzcln;
  
  private final zzwx zzclo;
  
  private final long zzclp;
  
  private int zzclq = 0;
  
  private zzahq zzclr;
  
  private Future zzcls;
  
  public zzahn(Context paramContext, String paramString1, String paramString2, zzwx paramzzwx, zzaji paramzzaji, zzaib paramzzaib, zzahw paramzzahw, long paramLong) {
    this.mContext = paramContext;
    this.zzbth = paramString1;
    this.zzcln = paramString2;
    this.zzclo = paramzzwx;
    this.zzbze = paramzzaji;
    this.zzcll = paramzzaib;
    this.mLock = new Object();
    this.zzclm = paramzzahw;
    this.zzclp = paramLong;
  }
  
  private final void zza(zzjj paramzzjj, zzxq paramzzxq) {
    this.zzcll.zzpf().zza(this);
    try {
      if ("com.google.ads.mediation.admob.AdMobAdapter".equals(this.zzbth)) {
        paramzzxq.zza(paramzzjj, this.zzcln, this.zzclo.zzbrr);
        return;
      } 
      paramzzxq.zzc(paramzzjj, this.zzcln);
      return;
    } catch (RemoteException paramzzjj) {
      zzakb.zzc("Fail to load ad from adapter.", paramzzjj);
      zza(this.zzbth, 0);
      return;
    } 
  }
  
  private final boolean zzf(long paramLong) {
    byte b;
    paramLong = this.zzclp - zzbv.zzer().elapsedRealtime() - paramLong;
    if (paramLong <= 0L) {
      b = 4;
      this.mErrorCode = b;
      return false;
    } 
    try {
      this.mLock.wait(paramLong);
      return true;
    } catch (InterruptedException interruptedException) {}
    this.mErrorCode = b;
    return false;
  }
  
  public final void onStop() {}
  
  public final void zza(zzb paramzzb) { this.zzclt = paramzzb; }
  
  public final void zza(String paramString, int paramInt) {
    synchronized (this.mLock) {
      this.zzclq = 2;
      this.mErrorCode = paramInt;
      this.mLock.notify();
      return;
    } 
  }
  
  public final void zzac(int paramInt) { zza(this.zzbth, 0); }
  
  public final void zzc(Bundle paramBundle) {
    zzb zzb1 = this.zzclt;
    if (zzb1 != null)
      zzb1.zza("", paramBundle); 
  }
  
  public final void zzcb(String paramString) {
    synchronized (this.mLock) {
      this.zzclq = 1;
      this.mLock.notify();
      return;
    } 
  }
  
  public final void zzdn() {
    zzaib1 = this.zzcll;
    if (zzaib1 != null && zzaib1.zzpf() != null) {
      if (this.zzcll.zzpe() == null)
        return; 
      zzahv zzahv = this.zzcll.zzpf();
      zzahv.zza(null);
      zzahv.zza(this);
      zzahv.zza(this);
      zzjj zzjj = this.zzbze.zzcgs.zzccv;
      zzxq zzxq = this.zzcll.zzpe();
      try {
        zzahp zzahp;
        Handler handler;
        if (zzxq.isInitialized()) {
          handler = zzamu.zzsy;
          zzahp = new zzaho(this, zzjj, zzxq);
        } else {
          handler = zzamu.zzsy;
          zzahp = new zzahp(this, zzxq, zzahp, zzahv);
        } 
        handler.post(zzahp);
      } catch (RemoteException zzaib1) {
        zzakb.zzc("Fail to check if adapter is initialized.", zzaib1);
        zza(this.zzbth, 0);
      } 
      long l = zzbv.zzer().elapsedRealtime();
      while (true) {
        synchronized (this.mLock) {
          if (this.zzclq != 0) {
            int i;
            zzahs zzahs = (new zzahs()).zzg(zzbv.zzer().elapsedRealtime() - l);
            if (1 == this.zzclq) {
              i = 6;
            } else {
              i = this.mErrorCode;
            } 
            this.zzclr = zzahs.zzad(i).zzcc(this.zzbth).zzcd(this.zzclo.zzbru).zzpd();
          } else if (!zzf(l)) {
            this.zzclr = (new zzahs()).zzad(this.mErrorCode).zzg(zzbv.zzer().elapsedRealtime() - l).zzcc(this.zzbth).zzcd(this.zzclo.zzbru).zzpd();
          } else {
            continue;
          } 
          zzahv.zza(null);
          zzahv.zza(null);
          if (this.zzclq == 1) {
            this.zzclm.zzcb(this.zzbth);
            return;
          } 
          this.zzclm.zza(this.zzbth, this.mErrorCode);
          return;
        } 
      } 
    } 
  }
  
  public final Future zzoz() {
    Future future = this.zzcls;
    if (future != null)
      return future; 
    zzanz zzanz = (zzanz)zznt();
    this.zzcls = zzanz;
    return zzanz;
  }
  
  public final zzahq zzpa() {
    synchronized (this.mLock) {
      return this.zzclr;
    } 
  }
  
  public final zzwx zzpb() { return this.zzclo; }
  
  public final void zzpc() { zza(this.zzbze.zzcgs.zzccv, this.zzcll.zzpe()); }
}

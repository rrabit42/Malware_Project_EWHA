package com.google.android.gms.ads.internal;

import android.content.Context;
import android.graphics.Rect;
import android.os.RemoteException;
import android.support.annotation.Nullable;
import android.support.v4.util.SimpleArrayMap;
import android.view.View;
import android.view.ViewTreeObserver;
import com.google.android.gms.internal.ads.zzadh;
import com.google.android.gms.internal.ads.zzagx;
import com.google.android.gms.internal.ads.zzahe;
import com.google.android.gms.internal.ads.zzajh;
import com.google.android.gms.internal.ads.zzaji;
import com.google.android.gms.internal.ads.zzajj;
import com.google.android.gms.internal.ads.zzaju;
import com.google.android.gms.internal.ads.zzajx;
import com.google.android.gms.internal.ads.zzakb;
import com.google.android.gms.internal.ads.zzalc;
import com.google.android.gms.internal.ads.zzamj;
import com.google.android.gms.internal.ads.zzang;
import com.google.android.gms.internal.ads.zzce;
import com.google.android.gms.internal.ads.zzci;
import com.google.android.gms.internal.ads.zzjn;
import com.google.android.gms.internal.ads.zzkb;
import com.google.android.gms.internal.ads.zzke;
import com.google.android.gms.internal.ads.zzkh;
import com.google.android.gms.internal.ads.zzkx;
import com.google.android.gms.internal.ads.zzla;
import com.google.android.gms.internal.ads.zzlg;
import com.google.android.gms.internal.ads.zzlu;
import com.google.android.gms.internal.ads.zzmu;
import com.google.android.gms.internal.ads.zzna;
import com.google.android.gms.internal.ads.zznk;
import com.google.android.gms.internal.ads.zzod;
import com.google.android.gms.internal.ads.zzpl;
import com.google.android.gms.internal.ads.zzqw;
import com.google.android.gms.internal.ads.zzqz;
import com.google.android.gms.internal.ads.zzrc;
import com.google.android.gms.internal.ads.zzrf;
import com.google.android.gms.internal.ads.zzri;
import com.google.android.gms.internal.ads.zzrl;
import java.util.HashSet;
import java.util.List;
import java.util.UUID;
import javax.annotation.ParametersAreNonnullByDefault;

@zzadh
@ParametersAreNonnullByDefault
public final class zzbw implements ViewTreeObserver.OnGlobalLayoutListener, ViewTreeObserver.OnScrollChangedListener {
  final String zzaco;
  
  public String zzacp;
  
  final zzci zzacq;
  
  public final zzang zzacr;
  
  @Nullable
  zzbx zzacs;
  
  @Nullable
  public zzajx zzact;
  
  @Nullable
  public zzalc zzacu;
  
  public zzjn zzacv;
  
  @Nullable
  public zzajh zzacw;
  
  public zzaji zzacx;
  
  @Nullable
  public zzajj zzacy;
  
  @Nullable
  zzke zzacz;
  
  @Nullable
  zzkh zzada;
  
  @Nullable
  zzla zzadb;
  
  @Nullable
  zzkx zzadc;
  
  @Nullable
  zzlg zzadd;
  
  @Nullable
  zzqw zzade;
  
  @Nullable
  zzqz zzadf;
  
  @Nullable
  zzrl zzadg;
  
  SimpleArrayMap<String, zzrc> zzadh;
  
  SimpleArrayMap<String, zzrf> zzadi;
  
  zzpl zzadj;
  
  @Nullable
  zzmu zzadk;
  
  @Nullable
  zzlu zzadl;
  
  @Nullable
  zzri zzadm;
  
  @Nullable
  List<Integer> zzadn;
  
  @Nullable
  zzod zzado;
  
  @Nullable
  zzahe zzadp;
  
  @Nullable
  zzagx zzadq;
  
  @Nullable
  public String zzadr;
  
  @Nullable
  List<String> zzads;
  
  @Nullable
  public zzaju zzadt = null;
  
  @Nullable
  View zzadu = null;
  
  public int zzadv = 0;
  
  private HashSet<zzajj> zzadw = null;
  
  private int zzadx = -1;
  
  private int zzady = -1;
  
  private zzamj zzadz;
  
  private boolean zzaea = true;
  
  private boolean zzaeb = true;
  
  private boolean zzaec = false;
  
  public final Context zzrt;
  
  boolean zzze = false;
  
  public zzbw(Context paramContext, zzjn paramzzjn, String paramString, zzang paramzzang) { this(paramContext, paramzzjn, paramString, paramzzang, null); }
  
  private zzbw(Context paramContext, zzjn paramzzjn, String paramString, zzang paramzzang, zzci paramzzci) {
    zznk.initialize(paramContext);
    if (zzbv.zzeo().zzpy() != null) {
      List list = zznk.zzjc();
      if (paramzzang.zzcve != 0)
        list.add(Integer.toString(paramzzang.zzcve)); 
      zzbv.zzeo().zzpy().zzg(list);
    } 
    this.zzaco = UUID.randomUUID().toString();
    if (paramzzjn.zzarc || paramzzjn.zzare) {
      this.zzacs = null;
    } else {
      this.zzacs = new zzbx(paramContext, paramString, paramzzang.zzcw, this, this);
      this.zzacs.setMinimumWidth(paramzzjn.widthPixels);
      this.zzacs.setMinimumHeight(paramzzjn.heightPixels);
      this.zzacs.setVisibility(4);
    } 
    this.zzacv = paramzzjn;
    this.zzacp = paramString;
    this.zzrt = paramContext;
    this.zzacr = paramzzang;
    this.zzacq = new zzci(new zzag(this));
    this.zzadz = new zzamj(200L);
    this.zzadi = new SimpleArrayMap();
  }
  
  private final void zzf(boolean paramBoolean) {
    if (this.zzacs != null) {
      zzajh zzajh1 = this.zzacw;
      if (zzajh1 != null && zzajh1.zzbyo != null) {
        if (this.zzacw.zzbyo.zzuf() == null)
          return; 
        if (paramBoolean && !this.zzadz.tryAcquire())
          return; 
        if (this.zzacw.zzbyo.zzuf().zzfz()) {
          int[] arrayOfInt = new int[2];
          this.zzacs.getLocationOnScreen(arrayOfInt);
          int i = zzkb.zzif().zzb(this.zzrt, arrayOfInt[0]);
          int j = zzkb.zzif().zzb(this.zzrt, arrayOfInt[1]);
          if (i != this.zzadx || j != this.zzady) {
            this.zzadx = i;
            this.zzady = j;
            this.zzacw.zzbyo.zzuf().zza(this.zzadx, this.zzady, paramBoolean ^ true);
          } 
        } 
        zzbx zzbx1 = this.zzacs;
        if (zzbx1 != null) {
          View view = zzbx1.getRootView().findViewById(16908290);
          if (view != null) {
            Rect rect1 = new Rect();
            Rect rect2 = new Rect();
            this.zzacs.getGlobalVisibleRect(rect1);
            view.getGlobalVisibleRect(rect2);
            if (rect1.top != rect2.top)
              this.zzaea = false; 
            if (rect1.bottom != rect2.bottom)
              this.zzaeb = false; 
          } 
        } 
      } 
    } 
  }
  
  public final void onGlobalLayout() { zzf(false); }
  
  public final void onScrollChanged() {
    zzf(true);
    this.zzaec = true;
  }
  
  public final void zza(HashSet<zzajj> paramHashSet) { this.zzadw = paramHashSet; }
  
  public final HashSet<zzajj> zzfl() { return this.zzadw; }
  
  public final void zzfm() {
    zzajh zzajh1 = this.zzacw;
    if (zzajh1 != null && zzajh1.zzbyo != null)
      this.zzacw.zzbyo.destroy(); 
  }
  
  public final void zzfn() {
    zzajh1 = this.zzacw;
    if (zzajh1 != null && zzajh1.zzbtx != null)
      try {
        this.zzacw.zzbtx.destroy();
        return;
      } catch (RemoteException zzajh1) {
        zzakb.zzdk("Could not destroy mediation adapter.");
      }  
  }
  
  public final boolean zzfo() { return (this.zzadv == 0); }
  
  public final boolean zzfp() { return (this.zzadv == 1); }
  
  public final String zzfq() { return (this.zzaea && this.zzaeb) ? "" : (this.zzaea ? (this.zzaec ? "top-scrollable" : "top-locked") : (this.zzaeb ? (this.zzaec ? "bottom-scrollable" : "bottom-locked") : "")); }
  
  public final void zzg(boolean paramBoolean) {
    if (this.zzadv == 0) {
      zzajh zzajh1 = this.zzacw;
      if (zzajh1 != null && zzajh1.zzbyo != null)
        this.zzacw.zzbyo.stopLoading(); 
    } 
    zzajx zzajx1 = this.zzact;
    if (zzajx1 != null)
      zzajx1.cancel(); 
    zzalc zzalc1 = this.zzacu;
    if (zzalc1 != null)
      zzalc1.cancel(); 
    if (paramBoolean)
      this.zzacw = null; 
  }
  
  final void zzj(View paramView) {
    zzna zzna = zznk.zzbat;
    if (!((Boolean)zzkb.zzik().zzd(zzna)).booleanValue())
      return; 
    zzce zzce = this.zzacq.zzaa();
    if (zzce != null)
      zzce.zzb(paramView); 
  }
}

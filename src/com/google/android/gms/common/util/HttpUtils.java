package com.google.android.gms.common.util;

import com.google.android.gms.common.annotation.KeepForSdk;
import java.io.UnsupportedEncodingException;
import java.net.URI;
import java.net.URLDecoder;
import java.util.Collections;
import java.util.HashMap;
import java.util.Map;
import java.util.Scanner;
import java.util.regex.Pattern;

@KeepForSdk
public class HttpUtils {
  private static final Pattern zzgz;
  
  private static final Pattern zzha;
  
  private static final Pattern zzhb = (zzha = (zzgz = Pattern.compile("^(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}$")).compile("^(?:[0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$")).compile("^((?:[0-9A-Fa-f]{1,4}(?::[0-9A-Fa-f]{1,4})*)?)::((?:[0-9A-Fa-f]{1,4}(?::[0-9A-Fa-f]{1,4})*)?)$");
  
  private static String decode(String paramString1, String paramString2) {
    if (paramString2 == null)
      paramString2 = "ISO-8859-1"; 
    try {
      return URLDecoder.decode(paramString1, paramString2);
    } catch (UnsupportedEncodingException paramString1) {
      throw new IllegalArgumentException(paramString1);
    } 
  }
  
  @KeepForSdk
  public static Map<String, String> parse(URI paramURI, String paramString) {
    Map map = Collections.emptyMap();
    String str2 = paramURI.getRawQuery();
    String str1 = map;
    if (str2 != null) {
      str1 = map;
      if (str2.length() > 0) {
        map = new HashMap();
        Scanner scanner = new Scanner(str2);
        scanner.useDelimiter("&");
        while (true) {
          str1 = map;
          if (scanner.hasNext()) {
            String[] arrayOfString = scanner.next().split("=");
            if (arrayOfString.length != 0 && arrayOfString.length <= 2) {
              String str = decode(arrayOfString[0], paramString);
              str1 = null;
              if (arrayOfString.length == 2)
                str1 = decode(arrayOfString[1], paramString); 
              map.put(str, str1);
              continue;
            } 
            throw new IllegalArgumentException("bad parameter");
          } 
          break;
        } 
      } 
    } 
    return str1;
  }
}

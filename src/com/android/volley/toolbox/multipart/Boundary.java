package com.android.volley.toolbox.multipart;

import android.text.TextUtils;
import java.util.Random;
import org.apache.http.util.EncodingUtils;

class Boundary {
  private static final char[] MULTIPART_CHARS = "-_1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".toCharArray();
  
  private final String boundary;
  
  private final byte[] closingBoundary;
  
  private final byte[] startingBoundary;
  
  Boundary(String paramString) {
    String str2 = paramString;
    if (TextUtils.isEmpty(paramString))
      str2 = generateBoundary(); 
    this.boundary = str2;
    StringBuilder stringBuilder1 = new StringBuilder();
    stringBuilder1.append("--");
    stringBuilder1.append(str2);
    stringBuilder1.append("\r\n");
    String str1 = stringBuilder1.toString();
    StringBuilder stringBuilder2 = new StringBuilder();
    stringBuilder2.append("--");
    stringBuilder2.append(str2);
    stringBuilder2.append("--");
    stringBuilder2.append("\r\n");
    str2 = stringBuilder2.toString();
    this.startingBoundary = EncodingUtils.getAsciiBytes(str1);
    this.closingBoundary = EncodingUtils.getAsciiBytes(str2);
  }
  
  private static String generateBoundary() {
    Random random = new Random();
    int i = random.nextInt(11) + 30;
    StringBuilder stringBuilder = new StringBuilder(i);
    for (byte b = 0; b < i; b++) {
      char[] arrayOfChar = MULTIPART_CHARS;
      stringBuilder.append(arrayOfChar[random.nextInt(arrayOfChar.length)]);
    } 
    return stringBuilder.toString();
  }
  
  String getBoundary() { return this.boundary; }
  
  byte[] getClosingBoundary() { return this.closingBoundary; }
  
  byte[] getStartingBoundary() { return this.startingBoundary; }
}

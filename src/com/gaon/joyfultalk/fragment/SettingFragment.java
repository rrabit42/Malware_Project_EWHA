package com.gaon.joyfultalk.fragment;

import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.TextView;
import com.bumptech.glide.Glide;
import com.bumptech.glide.RequestManager;
import com.bumptech.glide.load.Transformation;
import com.bumptech.glide.request.target.GlideDrawableImageViewTarget;
import com.gaon.joyfultalk.common.DataController;
import com.gaon.joyfultalk.common.Global;
import com.gaon.joyfultalk.common.Util;
import jp.wasabeef.glide.transformations.CropCircleTransformation;

public class SettingFragment extends Fragment {
  private ImageView imgBanner;
  
  private ImageView[] imgMenu = new ImageView[6];
  
  private ImageView imgProfile;
  
  private LinearLayout llDetail;
  
  private TextView txtEmail;
  
  private TextView txtNick;
  
  private View v;
  
  public void dataSetting() {
    this.txtNick.setText(Util.loadSharedPreferences(getContext(), "nick"));
    this.txtEmail.setText(Util.loadSharedPreferences(getContext(), "email"));
    if (Util.loadSharedPreferences(getContext(), "gender").contains("남자")) {
      this.imgProfile.setBackground(getContext().getResources().getDrawable(2131230881));
    } else {
      this.imgProfile.setBackground(getContext().getResources().getDrawable(2131230880));
    } 
    RequestManager requestManager1 = Glide.with(getActivity());
    StringBuilder stringBuilder1 = new StringBuilder();
    stringBuilder1.append("http://enjoytalk.co.kr/photo/");
    stringBuilder1.append(Util.loadSharedPreferences(getContext(), "profile"));
    requestManager1.load(stringBuilder1.toString()).bitmapTransform(new Transformation[] { new CropCircleTransformation(getActivity()) }).into(this.imgProfile);
    GlideDrawableImageViewTarget glideDrawableImageViewTarget = new GlideDrawableImageViewTarget(this.imgBanner);
    RequestManager requestManager2 = Glide.with(getContext());
    StringBuilder stringBuilder2 = new StringBuilder();
    stringBuilder2.append("http://enjoytalk.co.kr/photo/");
    stringBuilder2.append(Global.BANNER_IMG);
    requestManager2.load(stringBuilder2.toString()).into(glideDrawableImageViewTarget);
  }
  
  public void delMemberRequest() { DataController.DelMemberRequest(getContext(), new Object(this), new Object(this)); }
  
  public void init(View paramView) {
    this.imgProfile = (ImageView)paramView.findViewById(2131296400);
    this.txtNick = (TextView)paramView.findViewById(2131296560);
    this.txtEmail = (TextView)paramView.findViewById(2131296559);
    this.llDetail = (LinearLayout)paramView.findViewById(2131296425);
    this.llDetail.setOnClickListener(new Object(this));
    this.imgBanner = (ImageView)paramView.findViewById(2131296393);
    this.imgBanner.setOnClickListener(new Object(this));
    byte b = 0;
    while (true) {
      ImageView[] arrayOfImageView = this.imgMenu;
      if (b < arrayOfImageView.length) {
        arrayOfImageView[b] = (ImageView)paramView.findViewById(2131296394 + b);
        this.imgMenu[b].setOnClickListener(new Object(this, b));
        b++;
        continue;
      } 
      break;
    } 
  }
  
  public View onCreateView(LayoutInflater paramLayoutInflater, ViewGroup paramViewGroup, Bundle paramBundle) {
    this.v = paramLayoutInflater.inflate(2131492925, paramViewGroup, false);
    init(this.v);
    dataSetting();
    return this.v;
  }
  
  public void onResume() {
    super.onResume();
    dataSetting();
  }
}

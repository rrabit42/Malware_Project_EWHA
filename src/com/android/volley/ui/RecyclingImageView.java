package com.android.volley.ui;

import android.content.Context;
import android.graphics.drawable.Drawable;
import android.graphics.drawable.LayerDrawable;
import android.util.AttributeSet;
import android.widget.ImageView;

public class RecyclingImageView extends ImageView {
  public RecyclingImageView(Context paramContext) { super(paramContext); }
  
  public RecyclingImageView(Context paramContext, AttributeSet paramAttributeSet) { super(paramContext, paramAttributeSet); }
  
  public RecyclingImageView(Context paramContext, AttributeSet paramAttributeSet, int paramInt) { super(paramContext, paramAttributeSet, paramInt); }
  
  private static void notifyDrawable(Drawable paramDrawable, boolean paramBoolean) {
    if (paramDrawable instanceof RecyclingBitmapDrawable) {
      ((RecyclingBitmapDrawable)paramDrawable).setIsDisplayed(paramBoolean);
      return;
    } 
    if (paramDrawable instanceof LayerDrawable) {
      LayerDrawable layerDrawable = (LayerDrawable)paramDrawable;
      byte b = 0;
      int i = layerDrawable.getNumberOfLayers();
      while (b < i) {
        notifyDrawable(layerDrawable.getDrawable(b), paramBoolean);
        b++;
      } 
    } 
  }
  
  protected void onDetachedFromWindow() {
    setImageDrawable(null);
    super.onDetachedFromWindow();
  }
  
  public void setImageDrawable(Drawable paramDrawable) {
    Drawable drawable = getDrawable();
    super.setImageDrawable(paramDrawable);
    notifyDrawable(paramDrawable, true);
    notifyDrawable(drawable, false);
  }
}

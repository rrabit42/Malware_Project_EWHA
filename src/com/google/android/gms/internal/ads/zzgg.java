package com.google.android.gms.internal.ads;

import android.app.Activity;
import android.app.Application;
import android.content.Context;
import android.support.annotation.Nullable;
import com.google.android.gms.common.util.PlatformVersion;
import javax.annotation.ParametersAreNonnullByDefault;
import javax.annotation.concurrent.GuardedBy;

@zzadh
@ParametersAreNonnullByDefault
public final class zzgg {
  private final Object zzaho = new Object();
  
  @GuardedBy("mActivityTrackerLock")
  private zzgh zzahp = null;
  
  @GuardedBy("mActivityTrackerLock")
  private boolean zzahq = false;
  
  @Nullable
  public final Activity getActivity() {
    synchronized (this.zzaho) {
      if (!PlatformVersion.isAtLeastIceCreamSandwich())
        return null; 
      if (this.zzahp != null)
        return this.zzahp.getActivity(); 
      return null;
    } 
  }
  
  @Nullable
  public final Context getContext() {
    synchronized (this.zzaho) {
      if (!PlatformVersion.isAtLeastIceCreamSandwich())
        return null; 
      if (this.zzahp != null)
        return this.zzahp.getContext(); 
      return null;
    } 
  }
  
  public final void initialize(Context paramContext) {
    synchronized (this.zzaho) {
      if (!this.zzahq) {
        if (!PlatformVersion.isAtLeastIceCreamSandwich())
          return; 
        zzna zzna = zznk.zzayg;
        if (!((Boolean)zzkb.zzik().zzd(zzna)).booleanValue())
          return; 
        Application application = null;
        Context context2 = paramContext.getApplicationContext();
        Context context1 = context2;
        if (context2 == null)
          context1 = paramContext; 
        if (context1 instanceof Application)
          application = (Application)context1; 
        if (application == null) {
          zzakb.zzdk("Can not cast Context to Application");
          return;
        } 
        if (this.zzahp == null)
          this.zzahp = new zzgh(); 
        this.zzahp.zza(application, paramContext);
        this.zzahq = true;
      } 
      return;
    } 
  }
  
  public final void zza(zzgj paramzzgj) {
    synchronized (this.zzaho) {
      if (!PlatformVersion.isAtLeastIceCreamSandwich())
        return; 
      zzna zzna = zznk.zzayg;
      if (!((Boolean)zzkb.zzik().zzd(zzna)).booleanValue())
        return; 
      if (this.zzahp == null)
        this.zzahp = new zzgh(); 
      this.zzahp.zza(paramzzgj);
      return;
    } 
  }
}

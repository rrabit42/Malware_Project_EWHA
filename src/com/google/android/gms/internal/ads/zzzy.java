package com.google.android.gms.internal.ads;

import android.annotation.TargetApi;
import android.app.AlertDialog;
import android.content.Context;
import android.content.Intent;
import android.content.res.Resources;
import android.provider.CalendarContract;
import android.text.TextUtils;
import com.google.android.gms.ads.impl.R;
import com.google.android.gms.ads.internal.zzbv;
import java.util.Map;

@zzadh
public final class zzzy extends zzaal {
  private final Context mContext;
  
  private final Map<String, String> zzbgp;
  
  private String zzbvs;
  
  private long zzbvt;
  
  private long zzbvu;
  
  private String zzbvv;
  
  private String zzbvw;
  
  public zzzy(zzaqw paramzzaqw, Map<String, String> paramMap) {
    super(paramzzaqw, "createCalendarEvent");
    this.zzbgp = paramMap;
    this.mContext = paramzzaqw.zzto();
    this.zzbvs = zzbu("description");
    this.zzbvv = zzbu("summary");
    this.zzbvt = zzbv("start_ticks");
    this.zzbvu = zzbv("end_ticks");
    this.zzbvw = zzbu("location");
  }
  
  private final String zzbu(String paramString) { return TextUtils.isEmpty((CharSequence)this.zzbgp.get(paramString)) ? "" : (String)this.zzbgp.get(paramString); }
  
  private final long zzbv(String paramString) {
    paramString = (String)this.zzbgp.get(paramString);
    if (paramString == null)
      return -1L; 
    try {
      return Long.parseLong(paramString);
    } catch (NumberFormatException paramString) {
      return -1L;
    } 
  }
  
  @TargetApi(14)
  final Intent createIntent() {
    Intent intent = (new Intent("android.intent.action.EDIT")).setData(CalendarContract.Events.CONTENT_URI);
    intent.putExtra("title", this.zzbvs);
    intent.putExtra("eventLocation", this.zzbvw);
    intent.putExtra("description", this.zzbvv);
    long l = this.zzbvt;
    if (l > -1L)
      intent.putExtra("beginTime", l); 
    l = this.zzbvu;
    if (l > -1L)
      intent.putExtra("endTime", l); 
    intent.setFlags(268435456);
    return intent;
  }
  
  public final void execute() {
    String str;
    if (this.mContext == null) {
      zzbw("Activity context is not available.");
      return;
    } 
    if (!zzbv.zzek().zzao(this.mContext).zziz()) {
      zzbw("This feature is not available on the device.");
      return;
    } 
    AlertDialog.Builder builder = zzbv.zzek().zzan(this.mContext);
    Resources resources = zzbv.zzeo().getResources();
    if (resources != null) {
      str = resources.getString(R.string.s5);
    } else {
      str = "Create calendar event";
    } 
    builder.setTitle(str);
    if (resources != null) {
      str = resources.getString(R.string.s6);
    } else {
      str = "Allow Ad to create a calendar event?";
    } 
    builder.setMessage(str);
    if (resources != null) {
      str = resources.getString(R.string.s3);
    } else {
      str = "Accept";
    } 
    builder.setPositiveButton(str, new zzzz(this));
    if (resources != null) {
      str = resources.getString(R.string.s4);
    } else {
      str = "Decline";
    } 
    builder.setNegativeButton(str, new zzaaa(this));
    builder.create().show();
  }
}

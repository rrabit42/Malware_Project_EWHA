package com.google.android.gms.internal.ads;

import java.nio.ByteBuffer;
import java.nio.ByteOrder;
import java.security.GeneralSecurityException;
import java.security.InvalidKeyException;

abstract class zzazo implements zzatz {
  private final byte[] key;
  
  private final zzazn zzdor;
  
  private final zzazn zzdos;
  
  zzazo(byte[] paramArrayOfByte) throws InvalidKeyException {
    this.key = (byte[])paramArrayOfByte.clone();
    this.zzdor = zzc(paramArrayOfByte, 1);
    this.zzdos = zzc(paramArrayOfByte, 0);
  }
  
  abstract zzazn zzc(byte[] paramArrayOfByte, int paramInt) throws InvalidKeyException;
  
  public byte[] zzc(byte[] paramArrayOfByte1, byte[] paramArrayOfByte2) throws GeneralSecurityException {
    int i = paramArrayOfByte1.length;
    this.zzdor.zzaao();
    if (i <= 2147483619) {
      ByteBuffer byteBuffer = ByteBuffer.allocate(paramArrayOfByte1.length + this.zzdor.zzaao() + 16);
      if (byteBuffer.remaining() >= paramArrayOfByte1.length + this.zzdor.zzaao() + 16) {
        i = byteBuffer.position();
        this.zzdor.zza(byteBuffer, paramArrayOfByte1);
        byteBuffer.position(i);
        byte[] arrayOfByte = new byte[this.zzdor.zzaao()];
        byteBuffer.get(arrayOfByte);
        byteBuffer.limit(byteBuffer.limit() - 16);
        paramArrayOfByte1 = paramArrayOfByte2;
        if (paramArrayOfByte2 == null)
          paramArrayOfByte1 = new byte[0]; 
        ByteBuffer byteBuffer1 = this.zzdos.zzb(arrayOfByte, 0);
        paramArrayOfByte2 = new byte[32];
        byteBuffer1.get(paramArrayOfByte2);
        if (paramArrayOfByte1.length % 16 == 0) {
          i = paramArrayOfByte1.length;
        } else {
          i = paramArrayOfByte1.length + 16 - paramArrayOfByte1.length % 16;
        } 
        int k = byteBuffer.remaining();
        int j = k % 16;
        if (j == 0) {
          j = k;
        } else {
          j = k + 16 - j;
        } 
        j += i;
        byteBuffer1 = ByteBuffer.allocate(j + 16).order(ByteOrder.LITTLE_ENDIAN);
        byteBuffer1.put(paramArrayOfByte1);
        byteBuffer1.position(i);
        byteBuffer1.put(byteBuffer);
        byteBuffer1.position(j);
        byteBuffer1.putLong(paramArrayOfByte1.length);
        byteBuffer1.putLong(k);
        paramArrayOfByte1 = zzazk.zze(paramArrayOfByte2, byteBuffer1.array());
        byteBuffer.limit(byteBuffer.limit() + 16);
        byteBuffer.put(paramArrayOfByte1);
        return byteBuffer.array();
      } 
      throw new IllegalArgumentException("Given ByteBuffer output is too small");
    } 
    throw new GeneralSecurityException("plaintext too long");
  }
}

package com.google.firebase.auth.internal;

import android.content.Context;
import android.content.SharedPreferences;
import android.support.annotation.NonNull;
import android.support.annotation.Nullable;
import android.support.annotation.VisibleForTesting;
import com.google.android.gms.common.api.Status;
import com.google.android.gms.common.internal.Preconditions;
import com.google.android.gms.common.internal.safeparcel.SafeParcelableSerializer;
import com.google.android.gms.common.util.DefaultClock;
import com.google.android.gms.internal.firebase_auth.zzdr;
import com.google.android.gms.internal.firebase_auth.zzz;
import com.google.android.gms.tasks.Task;
import com.google.firebase.auth.AuthResult;
import com.google.firebase.auth.FirebaseAuth;

public final class zzac {
  @VisibleForTesting
  private static long zzrr = 3600000L;
  
  private static final zzz<String> zzrs = zzz.zza("firebaseAppName", "firebaseUserUid", "operation", "tenantId", "verifyAssertionRequest", "statusCode", "statusMessage", "timestamp");
  
  private static final zzac zzrt = new zzac();
  
  private Task<AuthResult> zzru;
  
  private long zzrv = 0L;
  
  public static void zza(@NonNull Context paramContext, @NonNull Status paramStatus) {
    SharedPreferences.Editor editor = paramContext.getSharedPreferences("com.google.firebase.auth.internal.ProcessDeathHelper", 0).edit();
    editor.putInt("statusCode", paramStatus.getStatusCode());
    editor.putString("statusMessage", paramStatus.getStatusMessage());
    editor.putLong("timestamp", DefaultClock.getInstance().currentTimeMillis());
    editor.commit();
  }
  
  public static void zza(@NonNull Context paramContext, @NonNull zzdr paramzzdr, @NonNull String paramString1, @Nullable String paramString2) {
    SharedPreferences.Editor editor = paramContext.getSharedPreferences("com.google.firebase.auth.internal.ProcessDeathHelper", 0).edit();
    editor.putString("verifyAssertionRequest", SafeParcelableSerializer.serializeToString(paramzzdr));
    editor.putString("operation", paramString1);
    editor.putString("tenantId", paramString2);
    editor.putLong("timestamp", DefaultClock.getInstance().currentTimeMillis());
    editor.commit();
  }
  
  private static void zza(@NonNull SharedPreferences paramSharedPreferences) {
    SharedPreferences.Editor editor = paramSharedPreferences.edit();
    zzz zzz1 = (zzz)zzrs;
    int i = zzz1.size();
    byte b = 0;
    while (b < i) {
      Object object = zzz1.get(b);
      b++;
      editor.remove((String)object);
    } 
    editor.commit();
  }
  
  public static zzac zzen() { return zzrt; }
  
  public final void zza(@NonNull Context paramContext) {
    Preconditions.checkNotNull(paramContext);
    zza(paramContext.getSharedPreferences("com.google.firebase.auth.internal.ProcessDeathHelper", 0));
    this.zzru = null;
    this.zzrv = 0L;
  }
  
  public final void zzh(@NonNull FirebaseAuth paramFirebaseAuth) { // Byte code:
    //   0: aload_1
    //   1: invokestatic checkNotNull : (Ljava/lang/Object;)Ljava/lang/Object;
    //   4: pop
    //   5: aload_1
    //   6: invokevirtual zzcc : ()Lcom/google/firebase/FirebaseApp;
    //   9: invokevirtual getApplicationContext : ()Landroid/content/Context;
    //   12: astore #4
    //   14: iconst_0
    //   15: istore_2
    //   16: aload #4
    //   18: ldc 'com.google.firebase.auth.internal.ProcessDeathHelper'
    //   20: iconst_0
    //   21: invokevirtual getSharedPreferences : (Ljava/lang/String;I)Landroid/content/SharedPreferences;
    //   24: astore #4
    //   26: aload #4
    //   28: ldc 'firebaseAppName'
    //   30: ldc ''
    //   32: invokeinterface getString : (Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    //   37: astore #5
    //   39: aload_1
    //   40: invokevirtual zzcc : ()Lcom/google/firebase/FirebaseApp;
    //   43: invokevirtual getName : ()Ljava/lang/String;
    //   46: aload #5
    //   48: invokevirtual equals : (Ljava/lang/Object;)Z
    //   51: ifne -> 55
    //   54: return
    //   55: aload #4
    //   57: ldc 'verifyAssertionRequest'
    //   59: invokeinterface contains : (Ljava/lang/String;)Z
    //   64: ifeq -> 357
    //   67: aload #4
    //   69: ldc 'verifyAssertionRequest'
    //   71: ldc ''
    //   73: invokeinterface getString : (Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    //   78: getstatic com/google/android/gms/internal/firebase_auth/zzdr.CREATOR : Landroid/os/Parcelable$Creator;
    //   81: invokestatic deserializeFromString : (Ljava/lang/String;Landroid/os/Parcelable$Creator;)Lcom/google/android/gms/common/internal/safeparcel/SafeParcelable;
    //   84: checkcast com/google/android/gms/internal/firebase_auth/zzdr
    //   87: astore #5
    //   89: aload #4
    //   91: ldc 'operation'
    //   93: ldc ''
    //   95: invokeinterface getString : (Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    //   100: astore #6
    //   102: aload #4
    //   104: ldc 'tenantId'
    //   106: aconst_null
    //   107: invokeinterface getString : (Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    //   112: astore #7
    //   114: aload #4
    //   116: ldc 'firebaseUserUid'
    //   118: ldc ''
    //   120: invokeinterface getString : (Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    //   125: astore #8
    //   127: aload_0
    //   128: aload #4
    //   130: ldc 'timestamp'
    //   132: lconst_0
    //   133: invokeinterface getLong : (Ljava/lang/String;J)J
    //   138: putfield zzrv : J
    //   141: aload #7
    //   143: ifnull -> 160
    //   146: aload_1
    //   147: aload #7
    //   149: invokevirtual zzc : (Ljava/lang/String;)V
    //   152: aload #5
    //   154: aload #7
    //   156: invokevirtual zzcr : (Ljava/lang/String;)Lcom/google/android/gms/internal/firebase_auth/zzdr;
    //   159: pop
    //   160: aload #6
    //   162: invokevirtual hashCode : ()I
    //   165: istore_3
    //   166: iload_3
    //   167: ldc -1843829902
    //   169: if_icmpeq -> 215
    //   172: iload_3
    //   173: ldc -286760092
    //   175: if_icmpeq -> 200
    //   178: iload_3
    //   179: ldc 1731327805
    //   181: if_icmpeq -> 187
    //   184: goto -> 230
    //   187: aload #6
    //   189: ldc 'com.google.firebase.auth.internal.SIGN_IN'
    //   191: invokevirtual equals : (Ljava/lang/Object;)Z
    //   194: ifeq -> 230
    //   197: goto -> 232
    //   200: aload #6
    //   202: ldc 'com.google.firebase.auth.internal.LINK'
    //   204: invokevirtual equals : (Ljava/lang/Object;)Z
    //   207: ifeq -> 230
    //   210: iconst_1
    //   211: istore_2
    //   212: goto -> 232
    //   215: aload #6
    //   217: ldc 'com.google.firebase.auth.internal.REAUTHENTICATE'
    //   219: invokevirtual equals : (Ljava/lang/Object;)Z
    //   222: ifeq -> 230
    //   225: iconst_2
    //   226: istore_2
    //   227: goto -> 232
    //   230: iconst_m1
    //   231: istore_2
    //   232: iload_2
    //   233: ifeq -> 338
    //   236: iload_2
    //   237: iconst_1
    //   238: if_icmpeq -> 296
    //   241: iload_2
    //   242: iconst_2
    //   243: if_icmpeq -> 254
    //   246: aload_0
    //   247: aconst_null
    //   248: putfield zzru : Lcom/google/android/gms/tasks/Task;
    //   251: goto -> 351
    //   254: aload_1
    //   255: invokevirtual getCurrentUser : ()Lcom/google/firebase/auth/FirebaseUser;
    //   258: invokevirtual getUid : ()Ljava/lang/String;
    //   261: aload #8
    //   263: invokevirtual equals : (Ljava/lang/Object;)Z
    //   266: ifeq -> 288
    //   269: aload_0
    //   270: aload_1
    //   271: invokevirtual getCurrentUser : ()Lcom/google/firebase/auth/FirebaseUser;
    //   274: aload #5
    //   276: invokestatic zza : (Lcom/google/android/gms/internal/firebase_auth/zzdr;)Lcom/google/firebase/auth/zzd;
    //   279: invokevirtual reauthenticateAndRetrieveData : (Lcom/google/firebase/auth/AuthCredential;)Lcom/google/android/gms/tasks/Task;
    //   282: putfield zzru : Lcom/google/android/gms/tasks/Task;
    //   285: goto -> 351
    //   288: aload_0
    //   289: aconst_null
    //   290: putfield zzru : Lcom/google/android/gms/tasks/Task;
    //   293: goto -> 351
    //   296: aload_1
    //   297: invokevirtual getCurrentUser : ()Lcom/google/firebase/auth/FirebaseUser;
    //   300: invokevirtual getUid : ()Ljava/lang/String;
    //   303: aload #8
    //   305: invokevirtual equals : (Ljava/lang/Object;)Z
    //   308: ifeq -> 330
    //   311: aload_0
    //   312: aload_1
    //   313: invokevirtual getCurrentUser : ()Lcom/google/firebase/auth/FirebaseUser;
    //   316: aload #5
    //   318: invokestatic zza : (Lcom/google/android/gms/internal/firebase_auth/zzdr;)Lcom/google/firebase/auth/zzd;
    //   321: invokevirtual linkWithCredential : (Lcom/google/firebase/auth/AuthCredential;)Lcom/google/android/gms/tasks/Task;
    //   324: putfield zzru : Lcom/google/android/gms/tasks/Task;
    //   327: goto -> 351
    //   330: aload_0
    //   331: aconst_null
    //   332: putfield zzru : Lcom/google/android/gms/tasks/Task;
    //   335: goto -> 351
    //   338: aload_0
    //   339: aload_1
    //   340: aload #5
    //   342: invokestatic zza : (Lcom/google/android/gms/internal/firebase_auth/zzdr;)Lcom/google/firebase/auth/zzd;
    //   345: invokevirtual signInWithCredential : (Lcom/google/firebase/auth/AuthCredential;)Lcom/google/android/gms/tasks/Task;
    //   348: putfield zzru : Lcom/google/android/gms/tasks/Task;
    //   351: aload #4
    //   353: invokestatic zza : (Landroid/content/SharedPreferences;)V
    //   356: return
    //   357: aload #4
    //   359: ldc 'statusCode'
    //   361: invokeinterface contains : (Ljava/lang/String;)Z
    //   366: ifeq -> 430
    //   369: new com/google/android/gms/common/api/Status
    //   372: dup
    //   373: aload #4
    //   375: ldc 'statusCode'
    //   377: sipush #17062
    //   380: invokeinterface getInt : (Ljava/lang/String;I)I
    //   385: aload #4
    //   387: ldc 'statusMessage'
    //   389: ldc ''
    //   391: invokeinterface getString : (Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    //   396: invokespecial <init> : (ILjava/lang/String;)V
    //   399: astore_1
    //   400: aload_0
    //   401: aload #4
    //   403: ldc 'timestamp'
    //   405: lconst_0
    //   406: invokeinterface getLong : (Ljava/lang/String;J)J
    //   411: putfield zzrv : J
    //   414: aload #4
    //   416: invokestatic zza : (Landroid/content/SharedPreferences;)V
    //   419: aload_0
    //   420: aload_1
    //   421: invokestatic zzb : (Lcom/google/android/gms/common/api/Status;)Lcom/google/firebase/FirebaseException;
    //   424: invokestatic forException : (Ljava/lang/Exception;)Lcom/google/android/gms/tasks/Task;
    //   427: putfield zzru : Lcom/google/android/gms/tasks/Task;
    //   430: return }
}

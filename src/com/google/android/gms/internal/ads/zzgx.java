package com.google.android.gms.internal.ads;

import com.google.android.gms.common.util.VisibleForTesting;
import java.util.PriorityQueue;
import javax.annotation.ParametersAreNonnullByDefault;

@zzadh
@ParametersAreNonnullByDefault
public final class zzgx {
  @VisibleForTesting
  private static long zza(long paramLong, int paramInt) {
    if (paramInt == 0)
      return 1L; 
    if (paramInt == 1)
      return paramLong; 
    if (paramInt % 2 == 0) {
      paramLong = zza(paramLong * paramLong % 1073807359L, paramInt / 2);
      return paramLong % 1073807359L;
    } 
    paramLong *= zza(paramLong * paramLong % 1073807359L, paramInt / 2) % 1073807359L;
    return paramLong % 1073807359L;
  }
  
  @VisibleForTesting
  private static String zza(String[] paramArrayOfString, int paramInt1, int paramInt2) {
    int i = paramArrayOfString.length;
    paramInt2 += paramInt1;
    if (i < paramInt2) {
      zzakb.e("Unable to construct shingle");
      return "";
    } 
    StringBuilder stringBuilder = new StringBuilder();
    while (true) {
      i = paramInt2 - 1;
      if (paramInt1 < i) {
        stringBuilder.append(paramArrayOfString[paramInt1]);
        stringBuilder.append(' ');
        paramInt1++;
        continue;
      } 
      break;
    } 
    stringBuilder.append(paramArrayOfString[i]);
    return stringBuilder.toString();
  }
  
  @VisibleForTesting
  private static void zza(int paramInt1, long paramLong, String paramString, int paramInt2, PriorityQueue<zzgy> paramPriorityQueue) {
    zzgy zzgy = new zzgy(paramLong, paramString, paramInt2);
    if (paramPriorityQueue.size() == paramInt1 && (((zzgy)paramPriorityQueue.peek()).zzajg > zzgy.zzajg || ((zzgy)paramPriorityQueue.peek()).value > zzgy.value))
      return; 
    if (paramPriorityQueue.contains(zzgy))
      return; 
    paramPriorityQueue.add(zzgy);
    if (paramPriorityQueue.size() > paramInt1)
      paramPriorityQueue.poll(); 
  }
  
  public static void zza(String[] paramArrayOfString, int paramInt1, int paramInt2, PriorityQueue<zzgy> paramPriorityQueue) {
    if (paramArrayOfString.length < paramInt2) {
      zza(paramInt1, zzb(paramArrayOfString, 0, paramArrayOfString.length), zza(paramArrayOfString, 0, paramArrayOfString.length), paramArrayOfString.length, paramPriorityQueue);
      return;
    } 
    long l1 = zzb(paramArrayOfString, 0, paramInt2);
    zza(paramInt1, l1, zza(paramArrayOfString, 0, paramInt2), paramInt2, paramPriorityQueue);
    long l2 = zza(16785407L, paramInt2 - 1);
    int i;
    for (i = 1; i < paramArrayOfString.length - paramInt2 + 1; i++) {
      int j = zzgu.zzz(paramArrayOfString[i - true]);
      int k = zzgu.zzz(paramArrayOfString[i + paramInt2 - 1]);
      l1 = ((l1 + 1073807359L - (j + 2147483647L) % 1073807359L * l2 % 1073807359L) % 1073807359L * 16785407L % 1073807359L + (k + 2147483647L) % 1073807359L) % 1073807359L;
      zza(paramInt1, l1, zza(paramArrayOfString, i, paramInt2), paramArrayOfString.length, paramPriorityQueue);
    } 
  }
  
  private static long zzb(String[] paramArrayOfString, int paramInt1, int paramInt2) {
    long l = (zzgu.zzz(paramArrayOfString[0]) + 2147483647L) % 1073807359L;
    for (paramInt1 = 1; paramInt1 < paramInt2; paramInt1++)
      l = (l * 16785407L % 1073807359L + (zzgu.zzz(paramArrayOfString[paramInt1]) + 2147483647L) % 1073807359L) % 1073807359L; 
    return l;
  }
}

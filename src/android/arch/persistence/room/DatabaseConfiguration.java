package android.arch.persistence.room;

import android.arch.persistence.db.SupportSQLiteOpenHelper;
import android.content.Context;
import android.support.annotation.NonNull;
import android.support.annotation.Nullable;
import android.support.annotation.RestrictTo;
import java.util.List;
import java.util.Set;

public class DatabaseConfiguration {
  public final boolean allowMainThreadQueries;
  
  @Nullable
  public final List<RoomDatabase.Callback> callbacks;
  
  @NonNull
  public final Context context;
  
  public final RoomDatabase.JournalMode journalMode;
  
  private final Set<Integer> mMigrationNotRequiredFrom;
  
  @NonNull
  public final RoomDatabase.MigrationContainer migrationContainer;
  
  @Nullable
  public final String name;
  
  public final boolean requireMigration;
  
  @NonNull
  public final SupportSQLiteOpenHelper.Factory sqliteOpenHelperFactory;
  
  @RestrictTo({RestrictTo.Scope.LIBRARY_GROUP})
  public DatabaseConfiguration(@NonNull Context paramContext, @Nullable String paramString, @NonNull SupportSQLiteOpenHelper.Factory paramFactory, @NonNull RoomDatabase.MigrationContainer paramMigrationContainer, @Nullable List<RoomDatabase.Callback> paramList, boolean paramBoolean1, RoomDatabase.JournalMode paramJournalMode, boolean paramBoolean2, @Nullable Set<Integer> paramSet) {
    this.sqliteOpenHelperFactory = paramFactory;
    this.context = paramContext;
    this.name = paramString;
    this.migrationContainer = paramMigrationContainer;
    this.callbacks = paramList;
    this.allowMainThreadQueries = paramBoolean1;
    this.journalMode = paramJournalMode;
    this.requireMigration = paramBoolean2;
    this.mMigrationNotRequiredFrom = paramSet;
  }
  
  public boolean isMigrationRequiredFrom(int paramInt) {
    if (this.requireMigration) {
      Set set = this.mMigrationNotRequiredFrom;
      if (set == null || !set.contains(Integer.valueOf(paramInt)))
        return true; 
    } 
    return false;
  }
}

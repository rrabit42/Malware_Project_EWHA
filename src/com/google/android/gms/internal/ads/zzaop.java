package com.google.android.gms.internal.ads;

import java.util.Iterator;
import java.util.concurrent.BlockingQueue;
import java.util.concurrent.LinkedBlockingQueue;

@zzadh
public class zzaop<T> extends Object implements zzaol<T> {
  private final Object mLock = new Object();
  
  private int zzbqb = 0;
  
  private final BlockingQueue<zzaoq> zzcwi = new LinkedBlockingQueue();
  
  private T zzcwj;
  
  public final int getStatus() { return this.zzbqb; }
  
  public final void reject() {
    synchronized (this.mLock) {
      if (this.zzbqb == 0) {
        this.zzbqb = -1;
        Iterator iterator = this.zzcwi.iterator();
        while (iterator.hasNext())
          ((zzaoq)iterator.next()).zzcwl.run(); 
        this.zzcwi.clear();
        return;
      } 
      throw new UnsupportedOperationException();
    } 
  }
  
  public final void zza(zzaoo<T> paramzzaoo, zzaom paramzzaom) {
    synchronized (this.mLock) {
      if (this.zzbqb == 1) {
        paramzzaoo.zze(this.zzcwj);
      } else if (this.zzbqb == -1) {
        paramzzaom.run();
      } else if (this.zzbqb == 0) {
        this.zzcwi.add(new zzaoq(this, paramzzaoo, paramzzaom));
      } 
      return;
    } 
  }
  
  public final void zzk(T paramT) {
    synchronized (this.mLock) {
      if (this.zzbqb == 0) {
        this.zzcwj = paramT;
        this.zzbqb = 1;
        Iterator iterator = this.zzcwi.iterator();
        while (iterator.hasNext())
          ((zzaoq)iterator.next()).zzcwk.zze(paramT); 
        this.zzcwi.clear();
        return;
      } 
      throw new UnsupportedOperationException();
    } 
  }
}

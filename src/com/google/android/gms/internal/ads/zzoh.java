package com.google.android.gms.internal.ads;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.content.pm.PackageManager;
import android.content.pm.ResolveInfo;
import android.net.Uri;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.customtabs.CustomTabsClient;
import android.support.customtabs.CustomTabsServiceConnection;
import android.support.customtabs.CustomTabsSession;
import java.util.List;
import javax.annotation.ParametersAreNonnullByDefault;

@zzadh
@ParametersAreNonnullByDefault
public final class zzoh implements zzbfy {
  @Nullable
  private CustomTabsSession zzbgw;
  
  @Nullable
  private CustomTabsClient zzbgx;
  
  @Nullable
  private CustomTabsServiceConnection zzbgy;
  
  @Nullable
  private zzoi zzbgz;
  
  public static boolean zzh(Context paramContext) {
    PackageManager packageManager = paramContext.getPackageManager();
    if (packageManager == null)
      return false; 
    Intent intent = new Intent("android.intent.action.VIEW", Uri.parse("http://www.example.com"));
    ResolveInfo resolveInfo = packageManager.resolveActivity(intent, 0);
    List list = packageManager.queryIntentActivities(intent, 65536);
    if (list != null && resolveInfo != null)
      for (byte b = 0; b < list.size(); b++) {
        ResolveInfo resolveInfo1 = (ResolveInfo)list.get(b);
        if (resolveInfo.activityInfo.name.equals(resolveInfo1.activityInfo.name))
          return resolveInfo.activityInfo.packageName.equals(zzbfw.zzbn(paramContext)); 
      }  
    return false;
  }
  
  public final boolean mayLaunchUrl(Uri paramUri, Bundle paramBundle, List<Bundle> paramList) {
    CustomTabsClient customTabsClient = this.zzbgx;
    if (customTabsClient == null)
      return false; 
    if (customTabsClient == null) {
      this.zzbgw = null;
    } else if (this.zzbgw == null) {
      this.zzbgw = customTabsClient.newSession(null);
    } 
    CustomTabsSession customTabsSession = this.zzbgw;
    return (customTabsSession == null) ? false : customTabsSession.mayLaunchUrl(paramUri, null, null);
  }
  
  public final void zza(CustomTabsClient paramCustomTabsClient) {
    this.zzbgx = paramCustomTabsClient;
    this.zzbgx.warmup(0L);
    zzoi zzoi1 = this.zzbgz;
    if (zzoi1 != null)
      zzoi1.zzjp(); 
  }
  
  public final void zza(zzoi paramzzoi) { this.zzbgz = paramzzoi; }
  
  public final void zzc(Activity paramActivity) {
    CustomTabsServiceConnection customTabsServiceConnection = this.zzbgy;
    if (customTabsServiceConnection == null)
      return; 
    paramActivity.unbindService(customTabsServiceConnection);
    this.zzbgx = null;
    this.zzbgw = null;
    this.zzbgy = null;
  }
  
  public final void zzd(Activity paramActivity) {
    if (this.zzbgx != null)
      return; 
    String str = zzbfw.zzbn(paramActivity);
    if (str == null)
      return; 
    this.zzbgy = new zzbfx(this);
    CustomTabsClient.bindCustomTabsService(paramActivity, str, this.zzbgy);
  }
  
  public final void zzjo() {
    this.zzbgx = null;
    this.zzbgw = null;
    zzoi zzoi1 = this.zzbgz;
    if (zzoi1 != null)
      zzoi1.zzjq(); 
  }
}

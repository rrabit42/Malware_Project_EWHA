package com.google.android.gms.ads.internal.gmsg;

import android.os.Bundle;
import com.google.android.gms.internal.ads.zzadh;
import com.google.android.gms.internal.ads.zzakb;
import java.util.Iterator;
import java.util.Map;
import org.json.JSONException;
import org.json.JSONObject;

@zzadh
public final class zza extends Object implements zzv<Object> {
  private final zzb zzbll;
  
  public zza(zzb paramzzb) { this.zzbll = paramzzb; }
  
  private static Bundle zzar(String paramString) {
    if (paramString == null)
      return null; 
    try {
      JSONObject jSONObject = new JSONObject(paramString);
      Iterator iterator = jSONObject.keys();
      Bundle bundle = new Bundle();
      while (iterator.hasNext()) {
        paramString = (String)iterator.next();
        Object object = jSONObject.get(paramString);
        if (object != null) {
          if (object instanceof Boolean) {
            bundle.putBoolean(paramString, ((Boolean)object).booleanValue());
            continue;
          } 
          if (object instanceof Double) {
            bundle.putDouble(paramString, ((Double)object).doubleValue());
            continue;
          } 
          if (object instanceof Integer) {
            bundle.putInt(paramString, ((Integer)object).intValue());
            continue;
          } 
          if (object instanceof Long) {
            bundle.putLong(paramString, ((Long)object).longValue());
            continue;
          } 
          if (object instanceof String) {
            bundle.putString(paramString, (String)object);
            continue;
          } 
          paramString = String.valueOf(paramString);
          if (paramString.length() != 0) {
            paramString = "Unsupported type for key:".concat(paramString);
          } else {
            paramString = new String("Unsupported type for key:");
          } 
          zzakb.zzdk(paramString);
        } 
      } 
      return bundle;
    } catch (JSONException paramString) {
      zzakb.zzb("Failed to convert ad metadata to JSON.", paramString);
      return null;
    } 
  }
  
  public final void zza(Object paramObject, Map<String, String> paramMap) {
    if (this.zzbll == null)
      return; 
    String str = (String)paramMap.get("name");
    paramObject = str;
    if (str == null) {
      zzakb.zzdj("Ad metadata with no name parameter.");
      paramObject = "";
    } 
    Bundle bundle = zzar((String)paramMap.get("info"));
    if (bundle == null) {
      zzakb.e("Failed to convert ad metadata to Bundle.");
      return;
    } 
    this.zzbll.zza(paramObject, bundle);
  }
}
